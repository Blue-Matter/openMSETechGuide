[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "openMSE Technical Manual",
    "section": "",
    "text": "Introduction\nWelcome to the openMSE Technical Manual.\nThis book is intended for fisheries scientists and other analysts who wish to learn how to use openMSE for all aspects of Management Strategy Evaluation (MSE):",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "OM_overview.html",
    "href": "OM_overview.html",
    "title": "Operating Models",
    "section": "",
    "text": "Primary Functions\nThe Operating Model (OM) is the main component of the MSE framework.\nThe OM is used to describe the characteristics of a fishery system and contains all the parameters required to simulate the population and fleet dynamics, the collection of data, and the application of a management procedure (e.g., implement a size regulation, effort control, spatial closure, or catch limit).\nAn OM is built from four separate objects, each containing a set of parameter values for different aspects of the simulation:\n…",
    "crumbs": [
      "Operating Models"
    ]
  },
  {
    "objectID": "OM_build.html",
    "href": "OM_build.html",
    "title": "3  Build an OM",
    "section": "",
    "text": "3.1 Initialize OM\nThis chapter describes the contents of OM objects by going through the process of manually constructing an operating model (OM).\nIt creates a simple OM based on a completely hypothetical albacore fishery.\nThe OM() function is used to create a new Operating Model object (see ?OM). The contents of the OM can be specified with arguments to the OM function:\nSimpleOM &lt;- OM(\"Example OM\",\n  nYear = 30,\n  pYear = 20,\n  nSim = 48\n)\nor by using functions matching the names of the slots in the object.\nFor example, here we’ll change the number of independent stochastic simulations in our OM from the default nSim=48 to a small number so that the code runs very quickly:\nnSim(SimpleOM)\n\n[1] 48\n\nnSim(SimpleOM) &lt;- 5\nnSim(SimpleOM)\n\n[1] 5\nSimilarly, the number of historical years and projection years can be changed:\nnYear(SimpleOM) &lt;- 20\npYear(SimpleOM) &lt;- 10",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an OM</span>"
    ]
  },
  {
    "objectID": "OM_build.html#initialize-om",
    "href": "OM_build.html#initialize-om",
    "title": "3  Build a Simple OM",
    "section": "",
    "text": "3.1.1 Years and Seasons\nCurrentYear is the last historical year before the projections begin, and is automatically set to the current calendar year:\n\nCurrentYear(SimpleOM)\n\n[1] 2025\n\n\nThis can be over-written using either the CurrentYear argument in OM() or by assigning a new value to the SimpleOM object with CurrentYear():\n\nCurrentYear(SimpleOM) &lt;- 2020\n\nThe Years function can be used to return the values of the historical or projection years:\n\nYears(SimpleOM, 'H') # or Years(SimpleOM, 'Historical') \n\n [1] 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015\n[16] 2016 2017 2018 2019 2020\n\nYears(SimpleOM, 'P') # or Years(SimpleOM, 'Projection') \n\n [1] 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030\n\n\nUnless specified otherwise, operating models are constructed using annual time steps. Seasonality can be added to the model by assigning a value to the Seasons slot of the OM object:\n\nSeasons(SimpleOM) &lt;- 4 # 4-quarters\nYears(SimpleOM, 'H') |&gt; head(8)\n\n[1] 2001.000 2001.247 2001.496 2001.748 2002.000 2002.247 2002.496 2002.748\n\n\nAs shown above, Seasons changes the values of the historical and projection years into decimal years corresponding with the specified number of seasons within a year.\nIf required, the lubridate package can be used to convert decimal years into dates (and back again):\n\nSimpleOM |&gt; \n  Years() |&gt; \n  lubridate::date_decimal() |&gt;\n  lubridate::as_date() |&gt;\n  head()\n\n[1] \"2001-01-01\" \"2001-04-01\" \"2001-07-01\" \"2001-09-30\" \"2002-01-01\"\n[6] \"2002-04-01\"\n\n\n\n\n\n\n\n\nImportant\n\n\n\nThe Seasons value in the OM defines the number of historical and projection years, as well as the structure of the age classes for all stocks in the OM.\nThe accounting in openMSE always starts at the beginning of the first historical year (i.e., Years(SimpleOM)[1]) and moves sequentially through the annual or seasonal time steps in Years(SimpleOM).\nAll stocks must have the same time units as the OM. See the Ages section below for more details.",
    "crumbs": [
      "Constructing Operating Models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build a Simple OM</span>"
    ]
  },
  {
    "objectID": "OM_build.html#specify-a-stock",
    "href": "OM_build.html#specify-a-stock",
    "title": "3  Build a Simple OM",
    "section": "\n3.3 Specify a Stock",
    "text": "3.3 Specify a Stock\nOM objects can contain one or more Stock objects.\nA Stock object contains the information related the biological characteristics of a stock, including growth and maturity schedules, natural mortality rates, stock-recruitment relationship, and other information relating to spatial distribution and movement patterns (see ?Stock for more details).\nHere we create an example Stock object using the expert judgment approach described above. The stock is loosely based on albacore Thunnus alalunga and should only be considered an example for demonstration purposes.\n\nSimpleStock &lt;- Stock('Example Stock',\n                     CommonName = 'Albacore',\n                     Species = \"Thunnus alalunga\")\n\nIn addition to Name, CommonName, and Species that were specified in the call to the Stock() function, Stock objects contain several other sub-objects that need to be populated:\n\nAges\nLength\nWeight\nNaturalMortality\nMaturity\nFecundity\nSRR\nSpatial\nDepletion\n\nThe sub-objects in italics are optional, see the sections below for details. The other sub-objects must be populated to complete the Stock object (strictly speaking, the Length object is also optional if no other objects are a function of length (e.g., Weight, Maturity, Fecundity and Selectivity etc in the Fleet object).\n\n3.3.1 Ages\nAn Ages object contains information relating to the age structure of the stock.\n\nAges(SimpleStock) &lt;- Ages(MaxAge=4*20, Units='quarter')\nAges(SimpleStock)\n\n\n\n\n── An `?MSEtool::Ages()` Object ──\n\n\n\n\n\n── `MinAge` \n\n\n0\n\n\n\n\n\n── `MaxAge` \n\n\n80\n\n\n\n\n\n── `Units` \n\n\n\"quarter\"\n\n\n\n\n\n── `Classes` (Year) \n\n\n0, 0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2, 2.25, 2.5, 2.75, 3, 3.25, 3.5, 3.75,\n4, 4.25, …, 19.75, and 20\n\n\n\n\n\n── `PlusGroup` \n\n\nTRUE\n\n\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nNote that MaxAge is set in time units of quarter. It is important that the time units in the Ages object matches the number of seasons in the OM.\nAlso note that, following the convention in Years(OM) the age classes are always in units of year:\n\nAgeClasses(SimpleStock)\n\n [1]  0.00  0.25  0.50  0.75  1.00  1.25  1.50  1.75  2.00  2.25  2.50  2.75\n[13]  3.00  3.25  3.50  3.75  4.00  4.25  4.50  4.75  5.00  5.25  5.50  5.75\n[25]  6.00  6.25  6.50  6.75  7.00  7.25  7.50  7.75  8.00  8.25  8.50  8.75\n[37]  9.00  9.25  9.50  9.75 10.00 10.25 10.50 10.75 11.00 11.25 11.50 11.75\n[49] 12.00 12.25 12.50 12.75 13.00 13.25 13.50 13.75 14.00 14.25 14.50 14.75\n[61] 15.00 15.25 15.50 15.75 16.00 16.25 16.50 16.75 17.00 17.25 17.50 17.75\n[73] 18.00 18.25 18.50 18.75 19.00 19.25 19.50 19.75 20.00\n\n\n\n\nTo keep things simple, we’ll change our OM back to annual time-steps and re-recreate the Ages object accordingly:\n\nSeasons(SimpleOM) &lt;- 1 # annual\nAges(SimpleStock) &lt;- Ages(MaxAge=20)\n\n\n3.3.2 Length\n\n\n\n\n\n\nNote\n\n\n\nMost sub-objects in Stock and Fleet objects that have a time and/or age dimension are structured and populated in a similar manner to Length objects.\nThis section describes populating Length objects in detail. Other sub-objects are described in less detail. Refer back to this section for the specific details.\n\n\nThe Length object describes the mean length-at-age schedule and how length-at-age is distributed around the mean.\nAs noted above, unless there are no references to the length structure of a stock (e.g., weight-at-length, maturity-at-length or selectivity-at-length), a Length object is required for all Stock objects.\nThe main pieces of information used in the OM are stored in slots named:\n\n\nMeanAtAge: the mean length-at-age schedule\n\nASK: the age-size key used to convert at-length schedules to at-age (and vice versa)\n\nMeanAtAge can be specified in two ways:\n\nA growth model and a list of the respective parameter values\nDirectly as an array specifying the mean length-at-age for each simulation and year.\n\n\n3.3.2.1 Model and Parameters\n\n3.3.2.2 Assign Array Directly\nThe primary contents of a Length are:\nThere are several different ways to populate the growth curve in a Length object. Many other sub-objects in Stock and Fleet objects",
    "crumbs": [
      "Constructing Operating Models",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build a Simple OM</span>"
    ]
  },
  {
    "objectID": "OM_build.html#specify-a-fleet",
    "href": "OM_build.html#specify-a-fleet",
    "title": "3  Build an OM",
    "section": "\n3.4 Specify a Fleet",
    "text": "3.4 Specify a Fleet",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an OM</span>"
    ]
  },
  {
    "objectID": "OM_build.html#populate-om",
    "href": "OM_build.html#populate-om",
    "title": "3  Build an OM",
    "section": "\n3.5 Populate OM",
    "text": "3.5 Populate OM",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an OM</span>"
    ]
  },
  {
    "objectID": "OM_build.html#explore-the-om",
    "href": "OM_build.html#explore-the-om",
    "title": "3  Build an OM",
    "section": "\n3.6 Explore the OM",
    "text": "3.6 Explore the OM",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an OM</span>"
    ]
  },
  {
    "objectID": "Eq_overview.html",
    "href": "Eq_overview.html",
    "title": "Equations",
    "section": "",
    "text": "The following sections ….",
    "crumbs": [
      "Equations"
    ]
  },
  {
    "objectID": "Eq_popdynamics.html",
    "href": "Eq_popdynamics.html",
    "title": "2  Population Dynamics",
    "section": "",
    "text": "2.1 Number at Age",
    "crumbs": [
      "Equations",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Population Dynamics</span>"
    ]
  },
  {
    "objectID": "Eq_popdynamics.html#number-at-age",
    "href": "Eq_popdynamics.html#number-at-age",
    "title": "2  Population Dynamics",
    "section": "",
    "text": "2.1.1 Initial\n\nannual\nseasonal - initialized to account for seasonal recruitment\n\nNotes:\n\nage of recruitment is MinAge(Stock)\nMinAge(Stock) == 0 means that recruitment occurs in same time step as SProduction\notherwise lagged by appropriate number of time steps (year, quarters, months)\n\n\\[\nN_{t+1} = N_t ...\n\\]",
    "crumbs": [
      "Equations",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Population Dynamics</span>"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About openMSE",
    "section": "",
    "text": "openMSE is an umbrella R package for building operating models, analyzing fishery data, and conducting Management Strategy Evaluation (MSE) for a wide range of fisheries.\nThe openMSE package is available on CRAN can be installed with install.packages(\"openMSE\").\nInstalling the openMSE package and loading with library(\"openMSE\") will load the following core packages:\n\nMSEtool - the Management Strategy Evaluation toolkit is the core package in the openMSE collection. It contains the core functions for constructing operating models, simulating fishery dynamics, and evaluating the effectiveness of alternative management strategies using closed-loop simulation testing.\nDLMtool - the Data-Limited Methods toolkit is a collection of data-limited management procedures that can be evaluated using MSE. DLMtool requires the MSEtool package as a dependency, and all MSEtool functions will be available when DLMtool is loaded into an R session.\nSAMtool - the Stock Assessment Methods toolkit is a collection of assessment methods and management procedures that have been developed for more data-intensive applications. SAMtool requires the MSEtool package as a dependency, and all MSEtool functions will be available when SAMtool is loaded into an R session.",
    "crumbs": [
      "About openMSE"
    ]
  },
  {
    "objectID": "prerequisites.html",
    "href": "prerequisites.html",
    "title": "Prerequisites",
    "section": "",
    "text": "Installing R\nTo use openMSE or any of its component packages you must have:\nThe R statistical language and environment can be freely downloaded from the CRAN website and is available for all operating systems. Updated versions of R are released frequently, and it is recommended that you have the latest version installed.\nHead to the CRAN website to download the latest version of R.\nYou can check your version of R by typing version into the R console.",
    "crumbs": [
      "Prerequisites"
    ]
  },
  {
    "objectID": "prerequisites.html#rstudio",
    "href": "prerequisites.html#rstudio",
    "title": "Prerequisites",
    "section": "RStudio",
    "text": "RStudio\nRStudio is a freely available integrated development environment (IDE) for R. It is not essential that you use RStudio, but it can make things a lot easier, especially if you are new to R.\nWe assume throughout the openMSE documentation that you are using RStudio.\nIt is important to be aware that RStudio and R are two different pieces of software that must be installed separately. We recommend installing the R software before downloading and installing RStudio.",
    "crumbs": [
      "Prerequisites"
    ]
  },
  {
    "objectID": "prerequisites.html#installing-the-packages",
    "href": "prerequisites.html#installing-the-packages",
    "title": "Prerequisites",
    "section": "Installing the Packages",
    "text": "Installing the Packages\nInstalling openMSE\n\nAll component packages in the openMSE collection can be installed with:\n\ninstall.packages('openMSE')\n\nand loaded into the R session with:\n\nlibrary('openMSE')\n\nThis will load the openMSE package, and make all functions in MSEtool, DLMtool, and SAMtool available.",
    "crumbs": [
      "About openMSE",
      "Prerequisites"
    ]
  },
  {
    "objectID": "prerequisites.html#installing-the-component-packages",
    "href": "prerequisites.html#installing-the-component-packages",
    "title": "Prerequisites",
    "section": "Installing the component packages",
    "text": "Installing the component packages\nTo install only the core MSE functions, install and load the Management Strategy Evaluation toolkit with: install.packages('MSEtool') and library('MSEtool').\nTo install and load the Data-Limited Methods toolkit use: install.packages('DLMtool') and library('DLMtool'). Note that this will also install and load the dependency MSEtool.\nTo install and load the Stock Assessment Methods toolkit use: install.packages('SAMtool') and library('SAMtool'). Note that this will also install and load the dependency MSEtool.\nAssumed Knowledge\nThe openMSE packages have been designed to be accessible for all users and do not assume a high level of knowledge of R. The functions and help documentation material have been constructed in such a way that a user with little experience with R should be able to run the MSE and apply the methods to their data.\nLittle programming experience is required to use the package. However, users of the openMSE packages should have some familiarity with R, and be comfortable with using the command line. The help documentation attempts to explain the use of the openMSE functions and features in easy to follow steps, but familiarity with the most common R functions is assumed.\nThe package is fully extensible, and more experienced R users are able to design their own management procedures, develop new plotting functions, and other customizations.",
    "crumbs": [
      "About openMSE",
      "Prerequisites"
    ]
  },
  {
    "objectID": "prerequisites.html#assumed-knowledge",
    "href": "prerequisites.html#assumed-knowledge",
    "title": "Prerequisites",
    "section": "Assumed Knowledge",
    "text": "Assumed Knowledge\nThe openMSE packages have been designed to be accessible for all users and do not assume a high level of knowledge of R. The functions and help documentation material have been constructed in such a way that a user with little experience with R should be able to run the MSE and apply the methods to their data.\nLittle programming experience is required to use the package. However, users of the openMSE packages should have some familiarity with R, and be comfortable with using the command line. The help documentation attempts to explain the use of the openMSE functions and features in easy to follow steps, but familiarity with the most common R functions is assumed.",
    "crumbs": [
      "About openMSE",
      "Prerequisites"
    ]
  },
  {
    "objectID": "index.html#assumed-knowledge",
    "href": "index.html#assumed-knowledge",
    "title": "openMSE Technical Manual",
    "section": "Assumed Knowledge",
    "text": "Assumed Knowledge\nLittle programming experience is required to use the openMSE. However, users of the openMSE packages should have some familiarity with R, and be comfortable with using the command line. The technical documentation attempts to explain the use of the openMSE functions and features in easy to follow steps, but familiarity with the most common R functions is assumed.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "index.html#about-openmse",
    "href": "index.html#about-openmse",
    "title": "openMSE Technical Manual",
    "section": "About openMSE",
    "text": "About openMSE\nopenMSE is an umbrella R package for building operating models, analyzing fishery data, and conducting Management Strategy Evaluation (MSE) for a wide range of fisheries.\nopenMSE was developed by Tom Carruthers, Quang Huynh, and Adrian Hordyk at Blue Matter Science.\nFor more general information about openMSE see the openMSE website.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "index.html#installing-openmse",
    "href": "index.html#installing-openmse",
    "title": "openMSE Technical Manual",
    "section": "Installing openMSE\n",
    "text": "Installing openMSE\n\n\n\n\n\n\n\nWarning\n\n\n\nThis Technical Manual has been developed for openMSE 2.0, which is currently under development and has not yet been released on CRAN.\nThe code in this manual is only compatible with the latest development branches of MSEtool, SAMtool, DLMtool, and openMSE.\nThis warning will be removed once the openMSE 2.0 packages have been released on CRAN.\n\n\nThe openMSE package is available on CRAN can be installed with:\n\ninstall.packages('openMSE')\n\nand loaded into the R session with:\n\nlibrary('openMSE')\n\nInstalling and loading the openMSE package will install and load the following core packages:\n\nMSEtool - the Management Strategy Evaluation toolkit is the core package in the openMSE collection. It contains the core functions for constructing operating models, simulating fishery dynamics, and evaluating the effectiveness of alternative management strategies using closed-loop simulation testing.\nDLMtool - the Data-Limited Methods toolkit is a collection of data-limited management procedures that can be evaluated using MSE. DLMtool requires the MSEtool package as a dependency, and all MSEtool functions will be available when DLMtool is loaded into an R session.\nSAMtool - the Stock Assessment Methods toolkit is a collection of assessment methods and management procedures that have been developed for more data-intensive applications. SAMtool requires the MSEtool package as a dependency, and all MSEtool functions will be available when SAMtool is loaded into an R session.\n\n\n\n\n\n\n\nImportant\n\n\n\nCurrently the latest development version of MSEtool needs to be installed from Github:\n\npak::pkg_install('blue-matter/MSEtool@prerelease')",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "getting_started.html",
    "href": "getting_started.html",
    "title": "2  Getting Started",
    "section": "",
    "text": "2.1 Overview of the MSE Process\nopenMSE has many features and can model a wide range of fishery dynamics, ranging from relatively simple single-stock single-fleet models to considerably more complex scenarios including multiple-stocks/fleets with an option for stock/fleet-specific management, age-dependent spatial structure, hermaphroditism, and between-stock biological interactions such as MICE (Models of Intermediate Complexity for Ecosystems).\nProbably the easiest way to learn to use openMSE is to start with a walkthrough of the MSE process with a relatively simple example. But first, users should become familiar with a conceptual overview of the MSE process and the primary objects and functions.\nopenMSE is designed around an object-oriented programming (OOP) paradigm, where the code is organized around objects, which contain relevant data, and functions (methods) that operate on those data.\nFigure 2.1 shows a conceptual overview of the MSE process in openMSE, with colors indicating the primary objects and functions.\nThe following sub-sections describe these primary objects and the functions that either operate on them, or are used to create them.\nflowchart TD\n  build([Build])\n  condition[[Condition]]\n  import[[Import]]\n  convert[[Convert]]\n  om[OM]\n  build:::process --&gt; om\n  condition:::function --&gt; om\n  import:::function --&gt; om\n  convert:::function --&gt; om\n  sim[[Simulate]]\n  om:::object --&gt; sim:::function\n  hist[Hist]\n  sim --&gt; hist:::object\n  mp[[MP]]\n  project[[Project]]\n  hist:::object --&gt; project:::function\n  mp:::function --&gt; project\n  mse[MSE]\n  project --&gt; mse:::object\n\nclassDef process fill:#fe218b, stroke:#111,stroke-width:1px, color:#000\nclassDef function fill:#fed700, stroke:#111,stroke-width:1px, color:#000\nclassDef object fill:#21b0fe, stroke:#111,stroke-width:1px, color:#000\n\n\n\n\n\nFigure 2.1: An overview of the primary objects and functions used in the MSE process.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "acknowledgements.html",
    "href": "acknowledgements.html",
    "title": "Acknowledgements",
    "section": "",
    "text": "openMSE development has been made possible through the generous support of the following funders:\n\nDavid & Lucille Packard Foundation\nFisheries & Oceans Canada\nGordon & Betty Moore Foundation\nKingfisher Foundation\nMarine Stewardship Council\nNatural Resources Defense Council\nOcean Protection Council\nResources Legacy Fund\nUnited Nations Food & Agriculture Organization\n\nWe thank The Ocean Foundation for their support of the code refactoring and the development of openMSE 2.0 and this openMSE Technical Manual.\nFinally, openMSE is a collaborative effort and we thank all collaborators who have notified us of bugs, provided suggestions for improvement, and helped in countless other ways in continuing the development of the openMSE R packages.",
    "crumbs": [
      "acknowledgements.html"
    ]
  },
  {
    "objectID": "prerequisites.html#installing-rstudio",
    "href": "prerequisites.html#installing-rstudio",
    "title": "Prerequisites",
    "section": "Installing RStudio",
    "text": "Installing RStudio\nRStudio is a freely available integrated development environment (IDE) for R. It is not essential that you use RStudio, but it can make things a lot easier, especially if you are new to R.\nWe assume throughout the openMSE documentation that you are using RStudio.\nIt is important to be aware that RStudio and R are two different pieces of software that must be installed separately. We recommend installing the R software before downloading and installing RStudio.",
    "crumbs": [
      "Prerequisites"
    ]
  },
  {
    "objectID": "getting_started.html#overview-of-the-mse-process",
    "href": "getting_started.html#overview-of-the-mse-process",
    "title": "2  Getting Started",
    "section": "",
    "text": "2.1.1 The OM Object\nThe Operating Model (OM) is the main component of the MSE framework. An OM describes the characteristics of a fishery system and contains all the parameters required to simulate the population and fleet dynamics, the collection of data, and the application of a management procedure.\nOperating models are stored in OM objects (see ?OM for help documentation).\nThere are several ways to construct an operating model.\nSee the Constructing Operating Models for more details.\n\n2.1.1.1 Build an OM\nThe first method, indicated by Build in Figure 2.1 is a process rather than\n\n\n2.1.1.2 Import an OM\n\n\n2.1.1.3 Condition an OM\n\n\n2.1.1.4 Convert an OM\n\n\n\n2.1.2 Hist\n\n\n2.1.3 MSE",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "getting_started.html#s4-system",
    "href": "getting_started.html#s4-system",
    "title": "2  Getting Started",
    "section": "2.5 S4 System",
    "text": "2.5 S4 System",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "getting_started.html#overview-of-main",
    "href": "getting_started.html#overview-of-main",
    "title": "2  Getting Started",
    "section": "2.6 Overview of Main",
    "text": "2.6 Overview of Main\n…",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "index.html#acknowledgements",
    "href": "index.html#acknowledgements",
    "title": "openMSE Technical Manual",
    "section": "Acknowledgements",
    "text": "Acknowledgements\nopenMSE development has been made possible through the generous support of the following funders:\n\nDavid & Lucille Packard Foundation\nFisheries & Oceans Canada\nGordon & Betty Moore Foundation\nKingfisher Foundation\nMarine Stewardship Council\nNatural Resources Defense Council\nOcean Protection Council\nResources Legacy Fund\nUnited Nations Food & Agriculture Organization\n\nWe thank The Ocean Foundation for their support of the code refactoring and the development of openMSE 2.0 and this openMSE Technical Manual.\nFinally, openMSE is a collaborative effort and we thank all collaborators who have notified us of bugs, provided suggestions for improvement, and helped in countless other ways in continuing the development of the openMSE R packages.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "getting_started.html#objects-and-functions",
    "href": "getting_started.html#objects-and-functions",
    "title": "Getting Started",
    "section": "Objects and Functions",
    "text": "Objects and Functions\n\nOperating Models\nSome stuff more stuff and hmmm",
    "crumbs": [
      "Getting Started"
    ]
  },
  {
    "objectID": "openmse.html",
    "href": "openmse.html",
    "title": "1  About openMSE 2.0",
    "section": "",
    "text": "1.1 Backwards Compability\nopenMSE v2.0 represents a major update from earlier versions of openMSE and its component packages.\nThese updates include a complete code refactoring, where all existing source code was restructured to improve efficiency, readability, and ease of maintenance, and a redesign of the core object classes in the openMSE framework and the related functions .\nThe majority of these revisions have been done in the MSEtool package. The following package versions are required to use openMSE v2.0:\nThe openMSE v2.0 packages are completely backwards compatible with earlier versions, so all code developed using earlier versions of openMSE and its component packages should still work without any changes. Please file an issue if you experience issues where openMSE 2.0 has caused issues with existing code.\nOther than fixes to maintain backwards compatibility, the legacy code base will not be updated. For new applications, users are recommended to update to openMSE v2.0 and follow the structure outlined in this manual.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>About openMSE 2.0</span>"
    ]
  },
  {
    "objectID": "openmse.html#section",
    "href": "openmse.html#section",
    "title": "openMSE 2.0",
    "section": "",
    "text": "Carruthers, Thomas, and Adrian R. Hordyk. 2018. “The Data-Limited Methods Toolkit (DLMtool): An R Package for Informing Management of Data-Limited Populations.” Methods in Ecology and Evolution 9 (12): 2388–95. https://doi.org/10.1111/2041-210X.13081.",
    "crumbs": [
      "openMSE 2.0"
    ]
  },
  {
    "objectID": "getting_started.html#sec-mse-overview",
    "href": "getting_started.html#sec-mse-overview",
    "title": "Getting Started",
    "section": "",
    "text": "Operating Models (OM)\nThe Operating Model (OM) is the main component of the MSE framework.\nThe OM is used to describe the characteristics of a fishery system and contains all the parameters required to simulate the population and fleet dynamics, the collection of data, and the application of a management procedure (e.g., implement a size regulation, effort control, spatial closure, or catch limit).\nAn OM is built from four separate objects, each containing a set of parameter values for different aspects of the simulation:\n\n\nHist\n\n\nMSE",
    "crumbs": [
      "Getting Started"
    ]
  },
  {
    "objectID": "getting_started.html#sec-overview",
    "href": "getting_started.html#sec-overview",
    "title": "Getting Started",
    "section": "",
    "text": "Operating Models (OM)\nThe Operating Model (OM) is the main component of the MSE framework.\nThe OM is used to describe the characteristics of a fishery system and contains all the parameters required to simulate the population and fleet dynamics, the collection of data, and the application of a management procedure (e.g., implement a size regulation, effort control, spatial closure, or catch limit).\nAn OM is built from four separate objects, each containing a set of parameter values for different aspects of the simulation:\n\n\nHist\n\n\nMSE",
    "crumbs": [
      "Getting Started"
    ]
  },
  {
    "objectID": "operatingmodels.html",
    "href": "operatingmodels.html",
    "title": "Constructing Operating Models",
    "section": "",
    "text": "Case studies ….\n\nBuild\nImport\nCondition\nConvert\n\n\n\n\n\n\n\nNote\n\n\n\nThis section is incomplete and will be updated later.",
    "crumbs": [
      "Constructing Operating Models"
    ]
  },
  {
    "objectID": "getting_started.html#the-om-object",
    "href": "getting_started.html#the-om-object",
    "title": "2  Getting Started",
    "section": "2.2 The OM Object",
    "text": "2.2 The OM Object\nThe Operating Model (OM) object is the main component of the MSE framework. An OM describes the characteristics of a fishery system and contains all the information required to simulate the population and fleet dynamics, the collection of fishery data, and the application of a management procedure.\nThere are several ways to construct an OM (Figure 2.1). These methods are briefly described in the sections below.\n\n2.2.1 Build an OM\nThe first method, indicated by Build in Figure 2.1, is a process rather than applying a single function.\nThe build process involves creating a new OM object, and manually populating the various elements of the object using a combination of expert judgement and available fishery data.\nThis process is most often used in data-limited situations, where there is insufficient data or information to use one of the other approaches.\nThe Example of the MSE Process section provides an example of using the Build process to construct an OM.\nAlthough this method may not be commonly used in practice, users are recommended to read start with Example of the MSE Process to familiarize themselves to the structure and contents of OM objects.\n\n\n2.2.2 Condition an OM\nOperating models are often generated by fitting a fishery population dynamics model to time-series fishery data (e.g., historical catches, indices of abundance, age and/or length compositions).\nThis process is known as OM conditioning, and is analogous to a conventional stock assessment. However, unlike a stock assessment where the aim is to provide a scientific estimate of the status of the stock (e.g., current biomass relative to a biological reference point), OMs are designed to incorporate the key uncertainties in the knowledge of the fishery system. In other words, while a stock assessment produces a single estimate of the historical fishery dynamics (aka the ‘best model’ approach), an operating model accounts for uncertainties and contains many different hypotheses of plausible fishery dynamics.\nopenMSE's Rapid Conditioning Model (RCM) is designed to condition operating models for a wide range of life-history types and data availability scenarios.\n?sec-om_condition provides an example of using the Condition function to condition an OM from fishery data.\n\n\n2.2.3 Import an OM\nopenMSE supports importing operating models from several commonly used stock assessment frameworks, including Stock Synthesis 3 (SS3) and the Beaufort Assessment Model (BAM).\n?sec-om_import provides an example of using the Import function to import an OM from stock assessment output.\n\n\n2.2.4 Convert an OM\nThe Convert function is used to convert OM objects (as well as other objects) that were created in earlier versions of openMSE (see Chapter 1) to the new object structure developed in openMSE 2.0.\n?sec-om_convert provides an example of using the Convert function to convert OM objects developed with earlier versions of openMSE to be compatible with openMSE 2.0.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "getting_started.html#the-hist-object",
    "href": "getting_started.html#the-hist-object",
    "title": "2  Getting Started",
    "section": "2.3 The Hist Object",
    "text": "2.3 The Hist Object\nHist objects are created by applying the Simulate function to OM objects (Figure 2.1).\nHist objects contain the simulated historical fishery dynamics and are used to project the model forward in time under a range of different management policies (i.e., management procedures).\n\n\n\n\n\n\nNote\n\n\n\nThis section is incomplete and will be updated later.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "getting_started.html#the-mse-mse",
    "href": "getting_started.html#the-mse-mse",
    "title": "2  Getting Started",
    "section": "2.4 The MSE MSE",
    "text": "2.4 The MSE MSE",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "OM_condition.html",
    "href": "OM_condition.html",
    "title": "11  Conditioning OMs",
    "section": "",
    "text": "The Condition function takes information related to the biological properties of the stock(s) (see ?Stock) together with the available fishery data (see ?Data), and fits an age-structured population dynamics model to estimate the range of fishery dynamics that are most compatible with the observed data and assumed life-history parameters.\nCondition function",
    "crumbs": [
      "Constructing Operating Models",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Conditioning OMs</span>"
    ]
  },
  {
    "objectID": "OM_convert.html",
    "href": "OM_convert.html",
    "title": "6  Converting OMs",
    "section": "",
    "text": "Convert ff",
    "crumbs": [
      "Constructing Operating Models",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Converting OMs</span>"
    ]
  },
  {
    "objectID": "getting_started.html#the-mse-object",
    "href": "getting_started.html#the-mse-object",
    "title": "2  Getting Started",
    "section": "2.4 The MSE Object",
    "text": "2.4 The MSE Object\nMSE objects are created by applying the Project function to Hist objects, together with the management procedure (MP) functions that will be used to provide the management advice that was implemented in the simulated fishery (Figure 2.1).\nMSE objects contain the fishery dynamics from both the historical period (Hist) and the projection period where the MPs were applied.\n\n\n\n\n\n\nNote\n\n\n\nThis section is incomplete and will be updated later.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "OM_import.html",
    "href": "OM_import.html",
    "title": "12  Importing OMs",
    "section": "",
    "text": "The Import function takes the stock assessment output and imports it into the openMSE framework, ensuring that the fishery dynamics described in the OM match those predicted by the stock assessment model.",
    "crumbs": [
      "Constructing Operating Models",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Importing OMs</span>"
    ]
  },
  {
    "objectID": "OM_build.html#years-and-seasons",
    "href": "OM_build.html#years-and-seasons",
    "title": "3  Build an OM",
    "section": "\n3.2 Years and Seasons",
    "text": "3.2 Years and Seasons\nCurrentYear is the last historical year before the projections begin, and is automatically set to the current calendar year:\n\nCurrentYear(SimpleOM)\n\n[1] 2025\n\n\nThis can be over-written using either the CurrentYear argument in OM() or by assigning a new value to the SimpleOM object with CurrentYear():\n\nCurrentYear(SimpleOM) &lt;- 2020\n\nThe Years function can be used to return the values of the historical or projection years:\n\nYears(SimpleOM, 'H') \n\n [1] 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015\n[16] 2016 2017 2018 2019 2020\n\nYears(SimpleOM, 'P') \n\n [1] 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030\n\n\nUnless specified otherwise, operating models are constructed using annual time steps. Seasonality can be added to the model by assigning a value to the Seasons slot of the OM object:\n\nSeasons(SimpleOM) &lt;- 4 # 4-quarters\nYears(SimpleOM, \"H\") |&gt; head(8)\n\n[1] 2001.000 2001.247 2001.496 2001.748 2002.000 2002.247 2002.496 2002.748\n\n\nAs shown above, Seasons changes the values of the historical and projection years into decimal years corresponding with the specified number of seasons within a year.\n\n\n\n\n\n\nAvoid using assigning values with @\n\n\n\nAlmost all openMSE objects have been developed using the R S4 system.\nS4 objects contain slots, named components of the object that can be accessed using the @ operator (this is analogous to using the $ symbol to access contents of S3 objects), for example:\n\nslotNames(SimpleOM)\n\n [1] \"Name\"        \"Agency\"      \"Author\"      \"Email\"       \"Region\"     \n [6] \"Latitude\"    \"Longitude\"   \"Sponsor\"     \"nSim\"        \"nYear\"      \n[11] \"pYear\"       \"CurrentYear\" \"Stock\"       \"Fleet\"       \"Obs\"        \n[16] \"Imp\"         \"Data\"        \"DataLag\"     \"CatchFrac\"   \"Allocation\" \n[21] \"EFactor\"     \"Complexes\"   \"SexPars\"     \"Relations\"   \"Interval\"   \n[26] \"nReps\"       \"pStar\"       \"maxF\"        \"Seed\"        \"Seasons\"    \n[31] \"Years\"       \"Control\"     \"Misc\"        \"Log\"         \"Source\"     \n\nSimpleOM@nSim\n\n[1] 5\n\n\nThe @ symbol can be used to assign new values to slots, for example:\n\nSimpleOM@nSim &lt;- 5\n\nHowever, while earlier versions of openMSE advocated using the @ symbol to access slots and assign new values, this practice is not recommended for openMSE 2.0.\nInstead, users are encouraged to use the accessor and assignment functions that have been developed for each object class.\nThis is especially important when assigning new values, where the assignment functions may have side effects that will be missed if the @ symbol is used for assigning new values to an object.\nFor example, consider the Seasons assignment function:\n\n`Seasons&lt;-`\n\nfunction(x, value) {\n  CheckClass(x)\n  x@Seasons &lt;- value\n  x@Years &lt;- CalcYears(x@nYear, x@pYear, x@CurrentYear, x@Seasons)\n  x\n}\n&lt;bytecode: 0x0000020473d96b30&gt;\n&lt;environment: namespace:MSEtool&gt;\n\n\nNote that in addition to assigning the new value to the Seasons slot, the Seasons assignment function also recalculates the values for the Years slot, a step that would have been missed if the new value was assigned directly using the @ symbol and would lead to unexpected errors.\n\n\nIf required, the lubridate package can be used to convert decimal years into dates (and back again):\n\nSimpleOM |&gt;\n  Years() |&gt;\n  lubridate::date_decimal() |&gt;\n  lubridate::as_date() |&gt;\n  head()\n\n[1] \"2001-01-01\" \"2001-04-01\" \"2001-07-01\" \"2001-09-30\" \"2002-01-01\"\n[6] \"2002-04-01\"\n\n\n\n\n\n\n\n\nImportant\n\n\n\nThe Seasons value in the OM defines the number of historical and projection time steps, as well as the structure of the age classes for all stocks in the OM.\nThe accounting in openMSE always starts at the beginning of the first historical year (i.e., Years(SimpleOM)[1]) and moves sequentially through the annual or seasonal time steps in Years(SimpleOM).\nAll stocks must have the same time units as the OM. See the Ages section below for an example.\nAdditionally, because it is used to set up the time and age structure of the model, the Seasons value should not be changed once an operating model is constructed.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an OM</span>"
    ]
  },
  {
    "objectID": "OM_build.html#specify-a-stock-object",
    "href": "OM_build.html#specify-a-stock-object",
    "title": "3  Build an OM",
    "section": "\n3.3 Specify a Stock Object",
    "text": "3.3 Specify a Stock Object\nOM objects can contain one or more Stock objects.\nA Stock object contains the information related the biological characteristics of a stock, including growth and maturity schedules, natural mortality rates, stock-recruitment relationship, and other information relating to spatial distribution and movement patterns (see ?Stock for more details).\nHere we create an example Stock object using the expert judgment approach described above. The stock is loosely based on albacore Thunnus alalunga and should only be considered an example for demonstration purposes.\n\nSimpleStock &lt;- Stock(\"Example Stock\",\n  CommonName = \"Albacore\",\n  Species = \"Thunnus alalunga\"\n)\n\nIn addition to Name, CommonName, and Species that were specified in the call to the Stock() function, Stock objects contain several other sub-objects that need to be populated:\n\nAges\nLength\nWeight\nNaturalMortality\nMaturity\nFecundity\nSRR\nSpatial\nDepletion\n\nThe sub-objects in italics are optional, see the sections below for details. The other sub-objects must be populated to complete the Stock object.\n\n\n\n\n\n\nHelp Documentation\n\n\n\nHelp documentation can be accessed for all openMSE objects and functions, e.g.,\n\n?OM\n?Stock\n?Ages\n?Length\n# etc\n\n\n\n\n3.3.1 Ages\nAn Ages object contains information relating to the age structure of the stock.\n\nAges(SimpleStock) &lt;- Ages(MaxAge = 4 * 20, Units = \"quarter\")\n\nNote that MaxAge is set in time units of quarter. It is important that the time units in the Ages object matches the number of seasons in the OM.\nAlso note that, following the convention in Years(OM) the age classes are always in units of year:\n\nClasses(SimpleStock)\n\n [1]  0.00  0.25  0.50  0.75  1.00  1.25  1.50  1.75  2.00  2.25  2.50  2.75\n[13]  3.00  3.25  3.50  3.75  4.00  4.25  4.50  4.75  5.00  5.25  5.50  5.75\n[25]  6.00  6.25  6.50  6.75  7.00  7.25  7.50  7.75  8.00  8.25  8.50  8.75\n[37]  9.00  9.25  9.50  9.75 10.00 10.25 10.50 10.75 11.00 11.25 11.50 11.75\n[49] 12.00 12.25 12.50 12.75 13.00 13.25 13.50 13.75 14.00 14.25 14.50 14.75\n[61] 15.00 15.25 15.50 15.75 16.00 16.25 16.50 16.75 17.00 17.25 17.50 17.75\n[73] 18.00 18.25 18.50 18.75 19.00 19.25 19.50 19.75 20.00\n\n\nTo keep things simple, we’ll change our OM back to annual time-steps and re-recreate the Ages object accordingly:\n\nSeasons(SimpleOM) &lt;- 1 # annual\nAges(SimpleStock) &lt;- Ages(MaxAge = 20)\nClasses(SimpleStock)\n\n [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20\n\n\n\n3.3.2 Length\n\n\n\n\n\n\nImportant\n\n\n\nMany sub-objects in Stock and Fleet objects are structured and populated in a similar manner to Length objects.\nThis section describes populating Length objects in detail. the other sub-objects with a similar structure are described in less detail, and readers should refer back to this section for the specific details for the different ways to populate those objects.\n\n\nThe Length object describes the mean length-at-age schedule and how length-at-age is distributed around the mean. This information is primarily used for two purposes:\n\nCalculating mean weight-at-age from a length-weight relationship a the mean length-at-age\nCalculating the age-length key for converting at-age values (such as maturity-at-age) to at-length (i.e., maturity-at-length) and vice versa, and for generating catch-at-length data.\n\n\n\n\n\n\n\nNote\n\n\n\nThe Length object is optional if no other objects are a function of length (e.g., Weight, Maturity, Fecundity and Selectivity etc in the Fleet object, and there is no requirement to generate catch-at-length data.\n\n\nThe Length() function is used to create Length objects.\nThe help documentation for this function (?Length) provides details on the contents of the Length object and a description of the arguments for the Length() function (Figure 3.1).\nUsers must provide information to populate MeanAtAge and CVatAge in a Length object.\nMeanAtAge is common to all objects that contain at-age information, and, as the name suggests, contains information describing the mean at-age schedule (in this case the mean length-at-age).\nCVatAge contains the coefficient of variability for the distribution of length-at-age, which can be either normally (Dist='normal') or log-normally (Dist='lognormal') distributed around MeanAtAge.\nUltimately both MeanAtAge and CVatAge will be internally 3-dimensional arrays with dimensions containing values for each simulation, age-class, and historical and projection time step (typically years but as noted above, for seasonal models the time steps will actually be decimal years). However, the openMSE objects have been designed such that users only need to enter the minimal information to populate the model.\n\n\n\n\n\nFigure 3.1: Screenshot of the help documentation for the Length function\n\n\n\n3.3.3 Methods for Populating Age- and Time-Dynamic Values\nFigure 3.1 shows the that default value for CVatAge is a single numeric value 0.1. This value will be converted internally to an array with the correct dimensions, with a CV of 0.1 for all simulations, ages, and time steps.\nThere are several ways to include uncertainty in the values for CVatAge , and have it vary by simulation, age, and/or time step. These approaches are described in the sub-sections below. In general, all age- and time-dynamic values can be populated in the same manner.\n\n3.3.3.1 Stochastic Samples from a Uniform Distribution\nThe easiest way to include uncertainty is to sample from a uniform distribution. To do this, enter to numeric values representing the lower and upper bounds of a uniform distribution:\n\nLength_CV_uniform &lt;- Length(CVatAge = c(0.1, 0.2))\n\nThe above code creates a new Length class object with only the CVatAge slot populated.\nThis object is processed internally to sample from a uniform distribution with these bounds and produce an array with the correct dimensions.\nThis is done internally by the Populate function, which is run here on the Length_CV_uniform object to demonstrate:\n\nLength_CV_uniform &lt;- Populate(Length_CV_uniform,\n  Ages = Ages(SimpleStock),\n  Years = Years(SimpleStock),\n  nSim = nSim(SimpleOM),\n  seed = 101\n)\n\nIn practice, users will rarely need to call the Populate function as this processing is done internally in the Simulate function.\nCVatAge in Length_CV_uniform is now a 3-dimensional array:\n\nLength_CV_uniform |&gt; \n  CVatAge() |&gt; \n  dim()\n\n[1] 5 1 1\n\n\nwith the value for each simulation drawn from a uniform distribution with the specified bounds:\n\nLength_CV_uniform |&gt;\n  CVatAge()\n\n, , Year = 2006\n\n   Age\nSim         0\n  1 0.1372198\n  2 0.1043825\n  3 0.1709684\n  4 0.1657690\n  5 0.1249856\n\n\nOnce an object has been populated by Populate , all dimensions will be named:\n\nLength_CV_uniform |&gt; \n  CVatAge() |&gt; \n  dimnames()\n\n$Sim\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n$Age\n[1] \"0\"\n\n$Year\n[1] \"2006\"\n\n\nNotice that while CVatAge is a 3-dimensional array, the dimensions Age and Year are only length 1 and named as the first age-class and year respectively. This is because CVatAge in this example only varies by simulation and is constant for all ages-classes and years. Internally, the array will be expanded out for all age-classes and years.\nThe values for CVatAge can also be entered as a vector of length nSim (provided nSim &gt; 1 ). The following are will result in the same output:\n\n# numeric length nSim\nset.seed(101)\nCVatAge &lt;- runif(nSim(SimpleOM), 0.1, 0.2)\n\nLength_CV_uniform_1 &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(SimpleStock),\n    Years = Years(SimpleStock),\n    nSim = nSim(SimpleOM)\n  )\n\nLength_CV_uniform_1 |&gt; \n  CVatAge()\n\n, , Year = 2006\n\n   Age\nSim         0\n  1 0.1372198\n  2 0.1043825\n  3 0.1709684\n  4 0.1657690\n  5 0.1249856\n\n\nThis approach can be also used to sample values from different distributions, for example:\n\n# Sample from log-normal distribution\nset.seed(101)\nCVatAge &lt;- trlnorm(nSim(SimpleOM), 0.15, 0.2)\n\nLength_CV_lognorm &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(SimpleStock),\n    Years = Years(SimpleStock),\n    nSim = nSim(SimpleOM)\n  )\n\nLength_CV_lognorm |&gt; \n  CVatAge()\n\n, , Year = 2006\n\n   Age\nSim         0\n  1 0.1378900\n  2 0.1640934\n  3 0.1286837\n  4 0.1534657\n  5 0.1564240\n\n\n\n3.3.3.2 Age-Specific Values\nAge-specific values can be generated by specifying CVatAge as an array with dimensions nSim and nAge :\n\nset.seed(101)\nCVatAge &lt;- array(runif(nSim(SimpleOM) * \n                         nAge(SimpleStock), \n                       0.1, 0.2),\n  dim = c(\n    nSim(SimpleOM),\n    nAge(SimpleStock)\n  )\n)\n\nLength_CV_uniform_Age &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(SimpleStock),\n    Years = Years(SimpleStock),\n    nSim = nSim(SimpleOM)\n  )\n\nLength_CV_uniform_Age |&gt;\n  CVatAge() |&gt;\n  dimnames()\n\n$Sim\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n$Age\n [1] \"0\"  \"1\"  \"2\"  \"3\"  \"4\"  \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" \"11\" \"12\" \"13\" \"14\"\n[16] \"15\" \"16\" \"17\" \"18\" \"19\" \"20\"\n\n$Year\n[1] \"2006\"\n\n\n\n3.3.3.3 Time- and Age-Specific Values\nThe same approach can be used to generate values that vary of both age and time:\n\nset.seed(101)\nCVatAge &lt;- array(runif(nSim(SimpleOM) * \n                         nAge(SimpleStock) * \n                         length(Years(SimpleOM)), \n                       0.1, 0.2),\n  dim = c(\n    nSim(SimpleOM),\n    nAge(SimpleStock),\n    length(Years(SimpleOM))\n  )\n)\n\nLength_CV_uniform_Age_Time &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(SimpleStock),\n    Years = Years(SimpleStock),\n    nSim = nSim(SimpleOM)\n  )\n\nLength_CV_uniform_Age_Time |&gt;\n  CVatAge() |&gt;\n  dimnames()\n\n$Sim\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n$Age\n [1] \"0\"  \"1\"  \"2\"  \"3\"  \"4\"  \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" \"11\" \"12\" \"13\" \"14\"\n[16] \"15\" \"16\" \"17\" \"18\" \"19\" \"20\"\n\n$Year\n [1] \"2006\" \"2007\" \"2008\" \"2009\" \"2010\" \"2011\" \"2012\" \"2013\" \"2014\" \"2015\"\n[11] \"2016\" \"2017\" \"2018\" \"2019\" \"2020\" \"2021\" \"2022\" \"2023\" \"2024\" \"2025\"\n[21] \"2026\" \"2027\" \"2028\" \"2029\" \"2030\" \"2031\" \"2032\" \"2033\" \"2034\" \"2035\"\n\n\n\n3.3.3.4 Populating MeanAtAge\n\nThe section above\nHere the process to create and populate a Length object is broken into several steps. In practice this can be done in one or two lines of code.\nCreate a new Length object:\nThe mean length-at-age schedule is stored in a slot named MeanAtAge, which can be specified in two ways:\n\nA growth model and a list of the respective parameter values\nDirectly as an array specifying the mean length-at-age for each simulation and year.\n\n3.3.3.5 Model and Parameters\nThe Model and Pars slots are used to generate the mean length-at-age.\nModel specifies the growth function, and Pars is a named list with the parameter values.\nIf the names in Pars corresponds with a built-in growth model, Model will be set automatically and does not need to be defined. Alternatively, Model can be a R function that takes an Ages object as the first argument followed by the additional parameters that describe the mean length-at-age relationship.\nCurrently openMSE includes one built-in growth model: the von Bertalanffy growth function:\n\\[\nL_a = L_\\infty(1-\\exp(-K(a-t_0))\n\\] In general, a list of built-in models for a specific object class can be printed to the console with [CLASS]Models(), for example:\n\nLengthModels()\n\nModel: `?MSEtool::vonBert()`\n\n\nPars: `Linf`, `K`, and `t0`\n\n\nOther argument(s): `Ages`\n\n\nClass: `Length-at-Age-Model`\n\n\n\n\n\n\n# DefaultLength &lt;- Length()\n#\n# Populate(DefaultLength)\n#\n# ?Populate\n#\n# Length(SimpleStock) &lt;- Length()\n#\n# Populate(Length(SimpleStock))\n#\n# Pars=list(Linf=c(121, 135),\n#           K=c(0.16, 0.22),\n#           t0=c(-1.86, -1.41))\n\n\n# Redundant - 1D array with dimension nSim\n\n\n# Redundant - 2D array with dimensions, nSim\nset.seed(101)\nCVatAge &lt;- array(runif(nSim(SimpleOM), 0.1, 0.2),\n  dim = c(nSim(SimpleOM), 1)\n)\n\nLength_CV_uniform_2 &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(SimpleStock),\n    Years = Years(SimpleStock),\n    nSim = nSim(SimpleOM)\n  )\n\nCVatAge(Length_CV_uniform_2)\n\n, , Year = 2006\n\n   Age\nSim         0\n  1 0.1372198\n  2 0.1043825\n  3 0.1709684\n  4 0.1657690\n  5 0.1249856\n\n# Redundant - 3D array with dimensions, nSim, 1, 1\nset.seed(101)\nCVatAge &lt;- array(runif(nSim(SimpleOM), 0.1, 0.2),\n  dim = c(nSim(SimpleOM), 1, 1)\n)\n\nLength_CV_uniform_3 &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(SimpleStock),\n    Years = Years(SimpleStock),\n    nSim = nSim(SimpleOM)\n  )\n\nCVatAge(Length_CV_uniform_3)\n\n, , Year = 2006\n\n   Age\nSim         0\n  1 0.1372198\n  2 0.1043825\n  3 0.1709684\n  4 0.1657690\n  5 0.1249856\n\n\nModel can either be a character string specifying the name of the growth model corresponding with the named parameters in Pars, or\n\n3.3.3.6 Assign Array Directly\n\n3.3.3.7 Other Information\n\n3.3.4 Weight\n\n3.3.5 NaturalMortality\n\n3.3.6 Maturity\n\n3.3.7 Fecundity\n\n3.3.8 SRR\n\n3.3.9 Spatial\n\n3.3.10 Depletion",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an OM</span>"
    ]
  },
  {
    "objectID": "OM_octopus.html",
    "href": "OM_octopus.html",
    "title": "7  Octopus",
    "section": "",
    "text": "7.1 Create the OM Object\nAn example of an operating model for a short-lived (monthly time steps) semelparous species.\nThis OM is for a data-limited fishery, where the OM is conditioned with expert judgement and values from the literature …\nThis is an example …\nOctopusOM &lt;- OM('Octopus',\n                Author='Adrian Hordyk',\n                Email='adrian@bluematterscience.com',\n                nYear=10, # 10 historical years\n                pYear=10, # 10 projection years\n                Seasons = 12, # monthly time steps\n                nSim=20)\n\nYears(OctopusOM, 'Historical') |&gt; head()\n\n[1] 2016.000 2016.085 2016.164 2016.249 2016.331 2016.415\n\nYears(OctopusOM, 'Projection') |&gt; tail()\n\n[1] 2035.496 2035.581 2035.666 2035.748 2035.833 2035.915",
    "crumbs": [
      "OM Case Studies",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Octopus</span>"
    ]
  },
  {
    "objectID": "OM_octopus.html#construct-the-stock-object",
    "href": "OM_octopus.html#construct-the-stock-object",
    "title": "7  Octopus",
    "section": "\n7.2 Construct the Stock Object",
    "text": "7.2 Construct the Stock Object\n\nstock &lt;- Stock('Octopus',\n               Species='Octopus sp')\n\n\nAges(stock) &lt;- Ages(MaxAge=14,\n                    Units='month',\n                    PlusGroup = FALSE)",
    "crumbs": [
      "OM Case Studies",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Octopus</span>"
    ]
  },
  {
    "objectID": "OM_casestudies.html",
    "href": "OM_casestudies.html",
    "title": "OM Case Studies",
    "section": "",
    "text": "Description of case studies",
    "crumbs": [
      "OM Case Studies"
    ]
  },
  {
    "objectID": "openmse.html#design-philosophy",
    "href": "openmse.html#design-philosophy",
    "title": "1  About openMSE 2.0",
    "section": "\n1.2 Design Philosophy",
    "text": "1.2 Design Philosophy",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>About openMSE 2.0</span>"
    ]
  },
  {
    "objectID": "openmse.html#overview-of-major-changes-from-earlier-versions",
    "href": "openmse.html#overview-of-major-changes-from-earlier-versions",
    "title": "1  About openMSE 2.0",
    "section": "\n1.3 Overview of Major Changes from Earlier Versions",
    "text": "1.3 Overview of Major Changes from Earlier Versions",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>About openMSE 2.0</span>"
    ]
  },
  {
    "objectID": "openmse.html#overview-of-major-changes",
    "href": "openmse.html#overview-of-major-changes",
    "title": "1  About openMSE 2.0",
    "section": "\n1.2 Overview of Major Changes",
    "text": "1.2 Overview of Major Changes\nThis section is primarily relevant to readers who have been working with openMSE in the past and are interested in learning about the technical differences between openMSE 2.0 and earlier versions of the packages.\nThe majority of the new developments have occurred in the MSEtool package. The most significant changes are the development of new object classes and new accessor and assignment functions related to those objects.\nTable 1.1 provides on overview of the new object classes, and some examples of the accessor and assignment functions that operate on those objects.\nLowercase names are used for all new object classes, however the accessor and assignment functions use either uppercase for acronyms (e.g., OM()) or regular case (e.g., Stock()).\nThe function examples in Table 1.1 are primarily intended for demonstration purposes and, particularly the assignment functions, in practice may require additional arguments. Consult the help documentation for the respective object class (e.g., ?OM ) for further information.\nThe new object classes and related functions are described in more detail elsewhere in this manual.\n\n\nTable 1.1: A brief description of the primary new object classes developed for openMSE 2.0\n\n\n\n\n\n\n\n\n\nNew Class\nDescription\nKey Functions Examples\nDeprecated Class\n\n\n\nom\n\nS4 object containing the operating model information.\nUsed for both single-stock/fleet and multi-stock/fleet models.\n\n\nOM(): Create new om-class object\n\nOM\nMOM\n\n\n\nstock\nS4 object containing information relating to the biological characteristics of a stock.\n\nStock() : Create a new stock-class object\nStock(OM) : Access a stock-class object from an om-class object\nStock(OM) &lt;- Stock() : Assign a stock-class object to an om-class object\n\nStock\n\n\nfleet\nS4 object containing information relating to the exploitation characteristics of a stock.\n\nFleet() : Create a new fleet-class object\nFleet(OM): Access a fleet-class object from an om-class object\nFleet(OM) &lt;- Fleet() : Assign a fleet-class object to an om-class object\n\nFleet\n\n\nobs\nS4 object containing information related to the observation model used to generate fishery data.\n\nObs() : Create a new obs-class object\nObs(OM): Access an obs-class object from an om-class object\nObs(OM) &lt;- Obs() : Assign an obs-class object to an om-class object\n\nObs\n\n\nimp\n\nS4 object containing information related to the implementation error for management advice produced by management procedures.\nNote: Implementation error is currently not implemented in openMSE 2.0 .\n\n\nImp() : Create a new imp-class object\nImp(OM): Access an imp-class object from an om-class object\nImp(OM) &lt;- Imp() : Assign an imp-class object to an om-class object\n\nImp\n\n\ndata\n\nS4 object containing information related to fishery data.\nA data-class object contains the data from all fleets in an OM .\nEach OM has a data-class object for each Stock , or for each stock complex.\n\n\nData() : Create a new data-class object\nData(OM): Access a data-class object from an om-class object\nData(OM) &lt;- Data() : Assign a data-class object to an om-class object\n\nData\n\n\nmp\nFunction that takes a data -class object and returns an advice-class object.\nMyMP &lt;- function(Data, ...) {\nAdvice()\n}\nclass(MyMP) &lt;- 'mp'\nMP\n\n\nadvice\nS4 object returned by a mp-class function and containing information related management advice.\n\nAdvice(): Create a new advice-class object\nRec\n\n\nhist\n\nS4 object containing the simulated historical fishery and information for future population dynamics.\nUsed for both single-stock/fleet and multi-stock/fleet models.\n\n\nHist(MSE) : return historical time series information from an mse-class object.\nNote: The object returned by Hist(MSE) is not a complete hist-class object, but only contains the historical time series data. Other information in hist-class objects is stored elsewhere in mse-class objects\n\n\nHist\nmultiHist\n\n\n\nmse\n\nS4 object containing all information from the historical and projection periods.\nUsed for both single-stock/fleet and multi-stock/fleet models.\n\n\nUsed by performance metric and summary table functions.\nNote: performance metric functions have not yet been developed for mse-class objects.\n\n\nMSE\nMMSE",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>About openMSE 2.0</span>"
    ]
  },
  {
    "objectID": "walkthrough.html",
    "href": "walkthrough.html",
    "title": "Example of the MSE Process",
    "section": "",
    "text": "The chapters in this section follows the Build process indicated in Figure 2.1 to construct and populate an OM object, and then go through the process of simulating the historical fishery, developing some example management procedures, conducting the forward projections, and examining the MSE results.\n\n\n\n\n\n\nNote\n\n\n\nIn most cases, users will likely use other methods to construct OMs, such as Condition (?sec-om_condition) or Import (?sec-om_import), where most of the steps described in the first few chapters are done automatically.\nHowever, new users are recommended to read through these chapters to understand the overall structure and contents of OM objects.",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#build-an-operating-model",
    "href": "walkthrough.html#build-an-operating-model",
    "title": "Example of the MSE Process",
    "section": "",
    "text": "Note\n\n\n\nIn most cases, users will likely use other methods to construct OMs, such as Condition (4  Conditioning OMs) or Import (5  Importing OMs).\nHowever, new users are recommended to read through this chapter to understand the overall structure and contents of OM objects.",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#simulate-historical-fishery",
    "href": "walkthrough.html#simulate-historical-fishery",
    "title": "Example of the MSE Process",
    "section": "Simulate Historical Fishery",
    "text": "Simulate Historical Fishery\nTODO",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#design-management-procedures",
    "href": "walkthrough.html#design-management-procedures",
    "title": "Example of the MSE Process",
    "section": "Design Management Procedures",
    "text": "Design Management Procedures\nTODO",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#conduct-forward-projections",
    "href": "walkthrough.html#conduct-forward-projections",
    "title": "Example of the MSE Process",
    "section": "Conduct Forward Projections",
    "text": "Conduct Forward Projections\nTODO",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#evaluate-mse-results",
    "href": "walkthrough.html#evaluate-mse-results",
    "title": "Example of the MSE Process",
    "section": "Evaluate MSE Results",
    "text": "Evaluate MSE Results\nTODO",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough_om_initialize.html",
    "href": "walkthrough_om_initialize.html",
    "title": "3  Build an OM Object",
    "section": "",
    "text": "3.1 Initialize OM\nThis chapter describes the process to create an OM object and explore some of its properties.\nThe OM() function is used to create a new Operating Model object (see ?OM). The contents of the OM can be specified with arguments to the OM function:\nExampleOM &lt;- OM(\"Example OM\",\n                nYear = 30,\n                pYear = 20,\n                nSim = 48\n)\nor by using functions matching the names of the slots in the object.\nFor example, here we’ll change the number of independent stochastic simulations in our OM from the default nSim=48 to a small number so that the code runs very quickly:\nnSim(ExampleOM)\n\n[1] 48\n\nnSim(ExampleOM) &lt;- 5\nnSim(ExampleOM)\n\n[1] 5\nSimilarly, the number of historical years and projection years can be changed:\nnYear(ExampleOM) &lt;- 20\npYear(ExampleOM) &lt;- 10",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an `OM` Object</span>"
    ]
  },
  {
    "objectID": "walkthrough_om_initialize.html#years-and-seasons",
    "href": "walkthrough_om_initialize.html#years-and-seasons",
    "title": "3  Build an OM Object",
    "section": "\n3.2 Years and Seasons",
    "text": "3.2 Years and Seasons\nCurrentYear is the last historical year before the projections begin, and is automatically set to the current calendar year:\n\nCurrentYear(ExampleOM)\n\n[1] 2025\n\n\nThis can be over-written using either the CurrentYear argument in OM() or by assigning a new value to the OM object with CurrentYear():\n\nCurrentYear(ExampleOM) &lt;- 2020\n\nThe Years function can be used to return the values of the historical or projection years:\n\nYears(ExampleOM, 'H') \n\n [1] 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015\n[16] 2016 2017 2018 2019 2020\n\nYears(ExampleOM, 'P') \n\n [1] 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030\n\n\nUnless specified otherwise, operating models are constructed using annual time steps. Seasonality can be added to the model by assigning a value to the Seasons slot of the OM object:\n\nSeasons(ExampleOM) &lt;- 4 # 4-quarters\nYears(ExampleOM, \"H\") |&gt; head(8)\n\n[1] 2001.000 2001.247 2001.496 2001.748 2002.000 2002.247 2002.496 2002.748\n\n\nAs shown above, Seasons changes the values of the historical and projection years into decimal years corresponding with the specified number of seasons within a year.\n\n\n\n\n\n\nTipAvoid using assigning values with @\n\n\n\nAlmost all openMSE objects have been developed using the R S4 system.\nS4 objects contain slots, named components of the object that can be accessed using the @ operator (this is analogous to using the $ symbol to access contents of S3 objects), for example:\nThe @ symbol can be used to assign new values to slots, for example:\n\nExampleOM@nSim &lt;- 5\n\nHowever, while earlier versions of openMSE advocated using the @ symbol to access slots and assign new values, this practice is not recommended for openMSE 2.0.\nInstead, users are encouraged to use the accessor and assignment functions that have been developed for each object class.\nThis is especially important when assigning new values, where the assignment functions may have side effects that will be missed if the @ symbol is used for assigning new values to an object.\nFor example, consider the Seasons assignment function:\nNote that in addition to assigning the new value to the Seasons slot, the Seasons assignment function also recalculates the values for the Years slot, a step that would have been missed if the new value was assigned directly using the @ symbol and would lead to unexpected errors.\n\n\nIf required, the lubridate package can be used to convert decimal years into dates (and back again):\n\nExampleOM |&gt;\n  Years() |&gt;\n  lubridate::date_decimal() |&gt;\n  lubridate::as_date() |&gt;\n  head()\n\n[1] \"2001-01-01\" \"2001-04-01\" \"2001-07-01\" \"2001-09-30\" \"2002-01-01\"\n[6] \"2002-04-01\"\n\n\n\n\n\n\n\n\nImportant\n\n\n\nThe Seasons value in the OM defines the number of historical and projection time steps, as well as the structure of the age classes for all stocks in the OM.\nThe accounting in openMSE always starts at the beginning of the first historical year (i.e., Years(ExampleOM)[1]) and moves sequentially through the annual or seasonal time steps in Years(ExampleOM).\nAll stocks must have the same time units as the OM. See the Ages section below for an example.\nAdditionally, because it is used to set up the time and age structure of the model, the Seasons value should not be changed once an operating model is constructed.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an `OM` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html",
    "href": "walkthough_build_stock.html",
    "title": "4  Build a Stock Object",
    "section": "",
    "text": "4.1 Ages\nA Stock object contains the information related the biological characteristics of a stock, including growth and maturity schedules, natural mortality rates, stock-recruitment relationship, and other information relating to spatial distribution and movement patterns (see ?Stock for more details).\nHere an example Stock object is created using an expert judgment approach, where most parameters are stochastic.\nThe stock is loosely based on albacore Thunnus alalunga and should only be considered an example for demonstration purposes.\nLater, this Stock object will be added to the OM object created in the previous chapter.\nThe Stock() function is used to create new Stock objects:\nIn addition to Name, CommonName, and Species that were specified in the call to the Stock() function, Stock objects contain several other sub-objects that need to be populated:\nThe sub-objects in italics are optional, see the sections below for details. The other sub-objects must be populated to complete the Stock object.\nAn Ages object contains information relating to the age structure of the stock.\nAges(ExampleStock) &lt;- Ages(MaxAge = 4 * 20, Units = \"quarter\")\nNote that MaxAge is set in time units of quarter. It is important that the time units in the Ages object matches the number of seasons in the OM.\nAlso note that, following the convention in Years(OM) the age classes are always in units of year:\nClasses(ExampleStock)\n\n [1]  0.00  0.25  0.50  0.75  1.00  1.25  1.50  1.75  2.00  2.25  2.50  2.75\n[13]  3.00  3.25  3.50  3.75  4.00  4.25  4.50  4.75  5.00  5.25  5.50  5.75\n[25]  6.00  6.25  6.50  6.75  7.00  7.25  7.50  7.75  8.00  8.25  8.50  8.75\n[37]  9.00  9.25  9.50  9.75 10.00 10.25 10.50 10.75 11.00 11.25 11.50 11.75\n[49] 12.00 12.25 12.50 12.75 13.00 13.25 13.50 13.75 14.00 14.25 14.50 14.75\n[61] 15.00 15.25 15.50 15.75 16.00 16.25 16.50 16.75 17.00 17.25 17.50 17.75\n[73] 18.00 18.25 18.50 18.75 19.00 19.25 19.50 19.75 20.00\nTo keep things simple, we’ll change our OM back to annual time-steps and re-recreate the Ages object accordingly:\nSeasons(ExampleOM) &lt;- 1 # annual\nAges(ExampleStock) &lt;- Ages(MaxAge = 20)\nClasses(ExampleStock)\n\n [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#specify-a-fleet",
    "href": "walkthough_build_stock.html#specify-a-fleet",
    "title": "4  Build a Stock Object",
    "section": "\n4.4 Specify a Fleet",
    "text": "4.4 Specify a Fleet",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#populate-om",
    "href": "walkthough_build_stock.html#populate-om",
    "title": "4  Build a Stock Object",
    "section": "\n4.5 Populate OM",
    "text": "4.5 Populate OM",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#explore-the-om",
    "href": "walkthough_build_stock.html#explore-the-om",
    "title": "4  Build a Stock Object",
    "section": "\n4.6 Explore the OM",
    "text": "4.6 Explore the OM",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthrough.html#build-a-stock-object",
    "href": "walkthrough.html#build-a-stock-object",
    "title": "Example of the MSE Process",
    "section": "Build a Stock Object",
    "text": "Build a Stock Object",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#build-a-fleet-object",
    "href": "walkthrough.html#build-a-fleet-object",
    "title": "Example of the MSE Process",
    "section": "Build a Fleet Object",
    "text": "Build a Fleet Object",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#build-an-obs-object",
    "href": "walkthrough.html#build-an-obs-object",
    "title": "Example of the MSE Process",
    "section": "Build an Obs Object",
    "text": "Build an Obs Object",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#add-sub-objects-to-the-om-object",
    "href": "walkthrough.html#add-sub-objects-to-the-om-object",
    "title": "Example of the MSE Process",
    "section": "Add Sub-Objects to the OM Object",
    "text": "Add Sub-Objects to the OM Object",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#simulate-the-historical-fishery",
    "href": "walkthrough.html#simulate-the-historical-fishery",
    "title": "Example of the MSE Process",
    "section": "Simulate the Historical Fishery",
    "text": "Simulate the Historical Fishery\nTODO",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthrough.html#conduct-forward-projections-and-explore-mse-object",
    "href": "walkthrough.html#conduct-forward-projections-and-explore-mse-object",
    "title": "Example of the MSE Process",
    "section": "Conduct Forward Projections and Explore MSE Object",
    "text": "Conduct Forward Projections and Explore MSE Object\nTODO",
    "crumbs": [
      "Example of the MSE Process"
    ]
  },
  {
    "objectID": "walkthough_build_mps.html",
    "href": "walkthough_build_mps.html",
    "title": "8  Develop Example MPs",
    "section": "",
    "text": "MPs",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Develop Example `MP`s</span>"
    ]
  },
  {
    "objectID": "walkthough_build_fleet.html",
    "href": "walkthough_build_fleet.html",
    "title": "5  Build a Fleet Object",
    "section": "",
    "text": "Fleet",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Build a `Fleet` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_hist.html",
    "href": "walkthough_hist.html",
    "title": "7  Simulate Historical Fishery",
    "section": "",
    "text": "Hist",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>`Simulate` Historical Fishery</span>"
    ]
  },
  {
    "objectID": "walkthough_mse.html",
    "href": "walkthough_mse.html",
    "title": "10  Project Fishery Dynamics",
    "section": "",
    "text": "Project",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`Project` Fishery Dynamics</span>"
    ]
  },
  {
    "objectID": "walkthrough_om_initialize.html#other",
    "href": "walkthrough_om_initialize.html#other",
    "title": "3  Build an OM Object",
    "section": "\n3.3 Other",
    "text": "3.3 Other",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an `OM` Object</span>"
    ]
  },
  {
    "objectID": "walkthrough_om_initialize.html#om-metadata",
    "href": "walkthrough_om_initialize.html#om-metadata",
    "title": "3  Build an OM Object",
    "section": "\n3.3 OM Metadata",
    "text": "3.3 OM Metadata",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an `OM` Object</span>"
    ]
  },
  {
    "objectID": "walkthrough_om_initialize.html#other-contents-of-the-om-object",
    "href": "walkthrough_om_initialize.html#other-contents-of-the-om-object",
    "title": "3  Build an OM Object",
    "section": "\n3.4 Other Contents of the OM Object",
    "text": "3.4 Other Contents of the OM Object\nOM objects can contain one or more Stock objects.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Build an `OM` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#create-a-new-stock-object",
    "href": "walkthough_build_stock.html#create-a-new-stock-object",
    "title": "4  Build a Stock Object",
    "section": "",
    "text": "Ages\nLength\nWeight\nNaturalMortality\nMaturity\nFecundity\nSRR\nSpatial\nDepletion\n\n\n\n\n\n\n\n\nTipHelp Documentation\n\n\n\nHelp documentation can be accessed for all openMSE objects and functions, e.g.,\n\n?OM\n?Stock\n?Ages\n?Length\n# etc",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#ages",
    "href": "walkthough_build_stock.html#ages",
    "title": "4  Build a Stock Object",
    "section": "\n4.2 Ages",
    "text": "4.2 Ages\nAn Ages object contains information relating to the age structure of the stock.\n\nAges(ExampleStock) &lt;- Ages(MaxAge = 4 * 20, Units = \"quarter\")\n\nNote that MaxAge is set in time units of quarter. It is important that the time units in the Ages object matches the number of seasons in the OM.\nAlso note that, following the convention in Years(OM) the age classes are always in units of year:\nTo keep things simple, we’ll change our OM back to annual time-steps and re-recreate the Ages object accordingly:",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#length",
    "href": "walkthough_build_stock.html#length",
    "title": "4  Build a Stock Object",
    "section": "\n4.2 Length",
    "text": "4.2 Length\nThe Length object describes the mean length-at-age schedule and how length-at-age is distributed around the mean. This information is primarily used for two purposes:\n\nCalculating mean weight-at-age from a length-weight relationship a the mean length-at-age\nCalculating the age-length key for converting at-age values (such as maturity-at-age) to at-length (i.e., maturity-at-length) and vice versa, and for generating catch-at-length data.\n\n\n\n\n\n\n\nNote\n\n\n\nThe Length object is optional if no other objects are a function of length (e.g., Weight, Maturity, Fecundity and Selectivity etc in the Fleet object, and there is no requirement to generate catch-at-length data.\n\n\nThe Length() function is used to create Length objects. The help documentation for this function (?Length) provides details on the contents of the Length object and a description of the arguments for the Length() function (Figure 4.1).\n\n\n\n\n\nFigure 4.1: Screenshot of the help documentation for the Length function\n\n\nUltimately, users must provide information to populate MeanAtAge and CVatAge in a Length object. MeanAtAge is common to all objects that contain at-age information, and, as the name suggests, contains information describing the mean at-age schedule (in this case the mean length-at-age). CVatAge contains the coefficient of variability for the distribution of length-at-age, which can be either normally (Dist='normal') or log-normally (Dist='lognormal') distributed around MeanAtAge.\nInternally, both MeanAtAge and CVatAge will be 3-dimensional arrays with dimensions containing values for each simulation, age-class, and historical and projection time step (typically years but as noted above, for seasonal models the time steps will actually be decimal years). However, the openMSE objects have been designed such that users only need to enter the minimal information to populate the model.\nIn this example, the values for MeanAtAge are defined by means of a list of named parameters (Pars) for a built-in growth function (vonBert):\n\nLength(ExampleStock) &lt;- Length(\n  Pars = list(\n    Linf = c(121, 135),\n    K = c(0.16, 0.22),\n    t0 = c(-1.86, -1.41)\n  ),\n  Model = \"vonBert\",\n  CVatAge = c(0.1, 0.15)\n)\n\nThe parameters for the vonBert function and the values for CVatAge are entered as lower and upper bounds of a uniform distribution. Internally, nSim values for the Linf, K, and t0 parameters will be sampled from uniform distributions, and these used to calculate the values for MeanAtAge. Similarly, nSim values will be sampled for CVatAge.\nThis is done internally by the Populate function, which is run here on the Length object to demonstrate:\n\nExampleLengthComplete &lt;- Length(ExampleStock) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    nSim = nSim(ExampleOM),\n    Years = Years(ExampleOM)\n  )\n\nPars(ExampleLengthComplete)\n\n$Linf\n   Year\nSim     2001\n  1 126.2108\n  2 121.6135\n  3 130.9356\n  4 130.2077\n  5 124.4980\n\n$K\n   Year\nSim      2001\n  1 0.1780033\n  2 0.1950920\n  3 0.1800080\n  4 0.1973207\n  5 0.1927497\n\n$t0\n   Year\nSim      2001\n  1 -1.464092\n  2 -1.541906\n  3 -1.530612\n  4 -1.440765\n  5 -1.655196\n\nMeanAtAge(ExampleLengthComplete)\n\n, , Year = 2001\n\n   Age\nSim        0        1        2        3        4        5         6         7\n  1 28.95541 44.81390 58.08650 69.19487 78.49190 86.27296  92.78523  98.23561\n  2 31.59329 47.54857 60.67592 71.47657 80.36290 87.67421  93.68965  98.63891\n  3 31.53252 47.90783 61.58553 73.01001 82.55247 90.52293  97.18037 102.74108\n  4 32.22036 49.76721 64.17190 75.99710 85.70473 93.67399 100.21618 105.58683\n  5 34.00693 49.87106 62.95403 73.74340 82.64127 89.97924  96.03078 101.02141\n   Age\nSim        8        9       10       11       12       13       14       15\n  1 102.7973 106.6151 109.8104 112.4846 114.7228 116.5960 118.1638 119.4760\n  2 102.7110 106.0613 108.8178 111.0857 112.9517 114.4869 115.7500 116.7893\n  3 107.3857 111.2653 114.5057 117.2123 119.4730 121.3613 122.9385 124.2559\n  4 109.9958 113.6152 116.5864 119.0256 121.0280 122.6718 124.0213 125.1291\n  5 105.1371 108.5313 111.3305 113.6389 115.5426 117.1126 118.4073 119.4751\n   Age\nSim       16       17       18       19       20\n  1 120.5741 121.4933 122.2625 122.9063 123.4451\n  2 117.6444 118.3479 118.9267 119.4029 119.7947\n  3 125.3563 126.2754 127.0431 127.6844 128.2200\n  4 126.0385 126.7851 127.3980 127.9011 128.3142\n  5 120.3557 121.0819 121.6807 122.1746 122.5819\n\nCVatAge(ExampleLengthComplete)\n\n, , Year = 2001\n\n   Age\nSim         0\n  1 0.1295160\n  2 0.1410218\n  3 0.1112059\n  4 0.1205833\n  5 0.1019305\n\n\nNotice that, because in this object mean length-at-age is constant over time, while MeanAtAge is a 3-dimensional array, the third dimension (Year) is only length 1 and named as the first historical year. Similarly, while CVatAge is a 3-dimensional array, the dimensions Age and Year are only length 1 and named as the first age-class and year respectively. Internally, these array will be expanded out for all age-classes and years.\nThere are several other ways to specify values for Pars, MeanAtAge, and CVatAge, including using alternative growth functions, and specifying values that vary over time and/or ages. These methods are discussed in more detail in Section 15.1.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#weight",
    "href": "walkthough_build_stock.html#weight",
    "title": "4  Build a Stock Object",
    "section": "\n4.3 Weight",
    "text": "4.3 Weight\nThe Weight object contains information related to the weight-at-age and/or the length-weight relationship. In this example, an allometric length-weight relationship with parameters alpha and beta is specified, with values that are constant over all simulations and time-steps:\n\nWeight(ExampleStock) &lt;- Weight(\n  Pars = list(\n    alpha = 1.34E-05,\n    beta = 3.106\n  )\n)\n\nInternally, the Populate function will be used to calculate the mean weight-at-age from the alpha and beta parameters and the length defined in the Length object.\n?sec-object_weight has more details on the Weight object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#naturalmortality",
    "href": "walkthough_build_stock.html#naturalmortality",
    "title": "4  Build a Stock Object",
    "section": "\n4.4 NaturalMortality",
    "text": "4.4 NaturalMortality\nThe NaturalMortality object contains information relating to the natural mortality rate for each age-class and time step:\n\nNaturalMortality(ExampleStock) &lt;- NaturalMortality(\n  Pars = list(\n    M = c(0.35, 0.45),\n    Msd = c(0, 0.2)\n  )\n)\n\nIn this example, M is specified as a named parameter in the Pars list, with the values indicating lower and upper bounds of a uniform distribution. The second element in Pars is Msd, with values also indicating lower and upper bounds of a uniform distribution. The Msd parameter indicates the standard deviation of log-normally distributed process error which is used as a simple method to add stochastic time-varying variation to M :\n\nExampleStock |&gt;\n  NaturalMortality() |&gt;\n  Populate(\n    Years = 2023:2025\n  ) |&gt;\n  Pars()\n\n$M\n   Year\nSim      2023      2024      2025\n  1 0.4029189 0.3875625 0.3711781\n  2 0.3952582 0.3350171 0.3328722\n  3 0.4048179 0.4486208 0.4094666\n  4 0.4892802 0.3637180 0.3943089\n  5 0.3992442 0.3986595 0.3270530\n\n\n?sec-object_natural_mortality has more details on the NaturalMortality object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#maturity",
    "href": "walkthough_build_stock.html#maturity",
    "title": "4  Build a Stock Object",
    "section": "\n4.5 Maturity",
    "text": "4.5 Maturity\nMaturity objects contain information related to the probability that a specific age- and/or length-class is mature. This example uses a 2-parameter logistic function to specify the probability of maturity-at-length, once again using lower and upper bounds of a uniform distribution to account for uncertainty:\n\nMaturity(ExampleStock) &lt;- Maturity(\n  Pars = list(\n    L50 = c(81, 91),\n    L50_95 = c(10, 12)\n  )\n)\n\nIn this example, parameters in Pars are used to calculate MeanAtLength , which is then used together with the age-length key described in the Length object to calculate the values for MeanAtAge :\n\nExampleMaturityComplete &lt;- ExampleStock |&gt;\n  Maturity() |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Length = Length(ExampleStock),\n    Years = Years(ExampleOM)\n  )\n\nExampleMaturityComplete |&gt; Pars()\n\n$L50\n   Year\nSim     2001\n  1 84.72198\n  2 81.43825\n  3 88.09684\n  4 87.57690\n  5 83.49856\n\n$L50_95\n   Year\nSim     2001\n  1 10.60011\n  2 11.16973\n  3 10.66693\n  4 11.24402\n  5 11.09166\n\nExampleMaturityComplete |&gt; MeanAtLength()\n\n, , Year = 2001\n\n   Class\nSim         2.05         6.15        10.25        14.35        18.45\n  1 1.063634e-10 3.321997e-10 1.037544e-09 3.240511e-09 1.012094e-08\n  2 8.153255e-10 2.402783e-09 7.081059e-09 2.086805e-08 6.149863e-08\n  3 4.838297e-11 1.500380e-10 4.652750e-10 1.442840e-09 4.474318e-09\n  4 1.876064e-10 5.489464e-10 1.606247e-09 4.699965e-09 1.375235e-08\n  5 4.072132e-10 1.209232e-09 3.590850e-09 1.066314e-08 3.166450e-08\n   Class\nSim        22.55        26.65        30.75        34.85        38.95\n  1 3.161024e-08 9.872675e-08 3.083485e-07 9.630498e-07 3.007842e-06\n  2 1.812379e-07 5.341122e-07 1.574040e-06 4.638717e-06 1.367029e-05\n  3 1.387508e-08 4.302729e-08 1.334297e-07 4.137719e-07 1.283126e-06\n  4 4.024012e-08 1.177448e-07 3.445275e-07 1.008105e-06 2.949765e-06\n  5 9.402867e-08 2.792209e-07 8.291543e-07 2.462194e-06 7.311524e-06\n   Class\nSim        43.05        47.15        51.25        55.35        59.45\n  1 9.394190e-06 2.933984e-05 9.163003e-05 0.0002861281 0.0008931077\n  2 4.028558e-05 1.187133e-04 3.497699e-04 0.0010300787 0.0030295902\n  3 3.979025e-06 1.233905e-05 3.826299e-05 0.0001186459 0.0003678349\n  4 8.631122e-06 2.525471e-05 7.389305e-05 0.0002161843 0.0006323036\n  5 2.171148e-05 6.447012e-05 1.914216e-04 0.0005682180 0.0016854541\n   Class\nSim       63.55       67.65      71.75      75.85      79.95     84.05\n  1 0.002784122 0.008644415 0.02651208 0.07839115 0.20989891 0.4534701\n  2 0.008875917 0.025713173 0.07216447 0.18647023 0.40316009 0.6656288\n  3 0.001139793 0.003526110 0.01085422 0.03290898 0.09545244 0.2465558\n  4 0.001847904 0.005387891 0.01560334 0.04432414 0.11949358 0.2842290\n  5 0.004988447 0.014669218 0.04233749 0.11604595 0.28049345 0.5365319\n   Class\nSim     88.15     92.25     96.35    100.45    104.55    108.65    112.75\n  1 0.7215604 0.8900342 0.9619465 0.9874925 0.9959610 0.9987032 0.9995844\n  2 0.8543676 0.9453224 0.9807512 0.9933842 0.9977453 0.9992338 0.9997399\n  3 0.5036684 0.7588554 0.9070516 0.9680123 0.9894564 0.9965755 0.9988931\n  4 0.5374485 0.7727192 0.9086602 0.9667871 0.9883955 0.9960036 0.9986306\n  5 0.7746562 0.9107800 0.9680651 0.9890131 0.9962730 0.9987418 0.9995759\n   Class\nSim    116.85    120.95    125.05    129.15    133.25    137.35    141.45\n  1 0.9998669 0.9999574 0.9999864 0.9999956 0.9999986 0.9999996 0.9999999\n  2 0.9999117 0.9999700 0.9999898 0.9999966 0.9999988 0.9999996 0.9999999\n  3 0.9996428 0.9998848 0.9999628 0.9999880 0.9999961 0.9999988 0.9999996\n  4 0.9995316 0.9998399 0.9999453 0.9999813 0.9999936 0.9999978 0.9999993\n  5 0.9998572 0.9999519 0.9999838 0.9999945 0.9999982 0.9999994 0.9999998\n   Class\nSim    145.55    149.65 153.75 157.85\n  1 1.0000000 1.0000000      1      1\n  2 1.0000000 1.0000000      1      1\n  3 0.9999999 1.0000000      1      1\n  4 0.9999997 0.9999999      1      1\n  5 0.9999999 1.0000000      1      1\n\nExampleMaturityComplete |&gt; MeanAtAge()\n\n, , Year = 2001\n\n   Age\nSim            0            1           2          3         4         5\n  1 2.924775e-07 4.058967e-05 0.002723098 0.06561401 0.2938568 0.5518711\n  2 3.402872e-06 4.051411e-04 0.020337605 0.19381021 0.4685562 0.6826091\n  3 2.512670e-07 3.512844e-05 0.002394766 0.06048580 0.3020281 0.5848147\n  4 7.844627e-07 1.237267e-04 0.008872198 0.14081307 0.4377506 0.6876872\n  5 2.768166e-06 2.722809e-04 0.012003129 0.15316778 0.4670193 0.7264999\n   Age\nSim         6         7         8         9        10        11        12\n  1 0.7354867 0.8457289 0.9088722 0.9451282 0.9664933 0.9788057 0.9865156\n  2 0.8132021 0.8879148 0.9310077 0.9560687 0.9716500 0.9808585 0.9871464\n  3 0.7774447 0.8841953 0.9395974 0.9682774 0.9825473 0.9901324 0.9940596\n  4 0.8346134 0.9119924 0.9520487 0.9734962 0.9842427 0.9908404 0.9939788\n  5 0.8698484 0.9385292 0.9700638 0.9851082 0.9916357 0.9953921 0.9970376\n   Age\nSim        13        14        15        16        17        18        19 20\n  1 0.9914907 0.9941707 0.9961226 0.9975744 0.9986743 0.9992893 0.9996859  1\n  2 0.9913930 0.9938276 0.9956349 0.9970003 0.9980470 0.9988594 0.9994964  1\n  3 0.9966181 0.9977180 0.9985050 0.9990812 0.9995115 0.9997465 0.9998884  1\n  4 0.9961261 0.9976394 0.9984145 0.9989187 0.9993005 0.9995937 0.9998214  1\n  5 0.9981408 0.9989036 0.9992418 0.9994853 0.9996683 0.9998078 0.9999157  1\n\n\n?sec-object_maturity has more details on the Maturity object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#fecundity",
    "href": "walkthough_build_stock.html#fecundity",
    "title": "4  Build a Stock Object",
    "section": "\n4.6 Fecundity",
    "text": "4.6 Fecundity\nThe Fecundity object contains information describing the fecundity (e.g., egg production) -at-age schedule. Fecundity is optional in a Stock object. If it is missing, fecundity-at-age is assumed to be proportional to spawning biomass-at-age (i.e., maturity-at-age multiplied by weight-at-age).\nThis ExampleStock object follows this assumption and leaves the Fecundity object empty.\n?sec-object_fecundity has more details on the Fecundity object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#srr",
    "href": "walkthough_build_stock.html#srr",
    "title": "4  Build a Stock Object",
    "section": "\n4.7 SRR",
    "text": "4.7 SRR\nSRR objects describe the relationship between spawning production and resulting recruitment. The SRR object also contains data on unfished recruitment (R0), and the recruitment deviations for the historical and projection years.\nThis example uses the Beverton-Holt stock-recruit model (specified by the named parameter h in Pars; see SRRModels() for other options):\n\nSRR(ExampleStock) &lt;- SRR(\n  Pars=list(h=c(0.65, 0.85)),\n  R0=1000,\n  SD=c(0.15, 0.3),\n  AC=c(0.1, 0.9)\n)\n\nR0 is specified as a single value, indicating that it is constant over all simulations and years. SD and AC are specified as stochastic parameters from a uniform distribution, representing the standard deviation and the lag-1 autocorrelation respectively of the log-normally distributed process errors..\n?sec-object_srr has more details on the SRR object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#spatial",
    "href": "walkthough_build_stock.html#spatial",
    "title": "4  Build a Stock Object",
    "section": "\n4.8 Spatial",
    "text": "4.8 Spatial\n?sec-object_spatial has more details on the Spatial object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#depletion",
    "href": "walkthough_build_stock.html#depletion",
    "title": "4  Build a Stock Object",
    "section": "\n4.9 Depletion",
    "text": "4.9 Depletion\n?sec-object_depletion has more details on the Depletion object.",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#methods-for-populating-age--and-time-dynamic-values",
    "href": "walkthough_build_stock.html#methods-for-populating-age--and-time-dynamic-values",
    "title": "4  Build a Stock Object",
    "section": "\n4.4 Methods for Populating Age- and Time-Dynamic Values",
    "text": "4.4 Methods for Populating Age- and Time-Dynamic Values\nUPTO HERE - break the code out into sections",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "walkthough_build_stock.html#create-length-object-to-simplestock",
    "href": "walkthough_build_stock.html#create-length-object-to-simplestock",
    "title": "4  Build a Stock Object",
    "section": "\n4.5 Create Length Object to SimpleStock\n",
    "text": "4.5 Create Length Object to SimpleStock\n\nThe above sections described various ways to populate a Length object.\nHere a Length object is created with stochastic values for the growth parameters (Pars) and CVatLength that vary over simulations, and the object is added to the SimpleStock object:\n\nLength(SimpleStock) &lt;- Length(\n  Pars = list(\n    Linf = c(121, 135),\n    K = c(0.16, 0.22),\n    t0 = c(-1.86, -1.41)\n  ),\n  CVatAge = c(0.1, 0.15)\n)",
    "crumbs": [
      "Example of the MSE Process",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Build a `Stock` Object</span>"
    ]
  },
  {
    "objectID": "length_object.html",
    "href": "length_object.html",
    "title": "\n15  The Length Object\n",
    "section": "",
    "text": "15.1 Methods for Populating Age- and Time-Dynamic Values\nExamples …\nPars, MeanAtAge ….",
    "crumbs": [
      "More Details on Object Classes",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>The `Length` Object</span>"
    ]
  },
  {
    "objectID": "length_object.html#length",
    "href": "length_object.html#length",
    "title": "\n15  The Length Object\n",
    "section": "\n15.2 Length",
    "text": "15.2 Length\n\n\n\n\n\n\nImportant\n\n\n\nMany sub-objects in the Stock object are structured and populated in a similar manner to Length objects.\nThis section describes populating Length objects in detail. The other sub-objects with a similar structure are described in less detail.\nReaders should refer back to this section for the specific details for the different ways to populate those objects.\n\n\nFigure 4.1 shows the that default value for CVatAge is a single numeric value 0.1. This value will be converted internally to an array with the correct dimensions, with a CV of 0.1 for all simulations, ages, and time steps.\n\n15.2.1 Populating CVatAge\n\nFigure 4.1 shows the that default value for CVatAge is a single numeric value 0.1. This value will be converted internally to an array with the correct dimensions, with a CV of 0.1 for all simulations, ages, and time steps.\nThere are several ways to include uncertainty in the values for CVatAge , and have it vary by simulation, age, and/or time step. These approaches are described in the sub-sections below. In general, all age- and time-dynamic values can be populated in the same manner.\n\n15.2.1.1 Stochastic Samples from Distributions\nThe easiest way to include uncertainty is to sample from a uniform distribution. To do this, enter to numeric values representing the lower and upper bounds of a uniform distribution:\n\nLength_CV_uniform &lt;- Length(CVatAge = c(0.1, 0.2))\n\nThe above code creates a new Length class object with only the CVatAge slot populated.\nThis object is processed internally to sample from a uniform distribution with these bounds and produce an array with the correct dimensions.\nThis is done internally by the Populate function, which is run here on the Length_CV_uniform object to demonstrate:\n\nLength_CV_uniform &lt;- Populate(Length_CV_uniform,\n  Ages = Ages(ExampleStock),\n  Years = Years(ExampleStock),\n  nSim = nSim(ExampleOM),\n  seed = 101\n)\n\nIn practice, users will rarely need to call the Populate function as this processing is done internally in the Simulate function.\nCVatAge in Length_CV_uniform is now a 3-dimensional array:\n\nLength_CV_uniform |&gt;\n  CVatAge() |&gt;\n  dim()\n\n[1] 5 1 1\n\n\nwith the value for each simulation drawn from a uniform distribution with the specified bounds:\n\nLength_CV_uniform |&gt;\n  CVatAge()\n\n, , Year = 2006\n\n   Age\nSim         0\n  1 0.1372198\n  2 0.1043825\n  3 0.1709684\n  4 0.1657690\n  5 0.1249856\n\n\nOnce an object has been populated by Populate , all dimensions will be named:\n\nLength_CV_uniform |&gt;\n  CVatAge() |&gt;\n  dimnames()\n\n$Sim\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n$Age\n[1] \"0\"\n\n$Year\n[1] \"2006\"\n\n\nNotice that while CVatAge is a 3-dimensional array, the dimensions Age and Year are only length 1 and named as the first age-class and year respectively. This is because CVatAge in this example only varies by simulation and is constant for all ages-classes and years. Internally, the array will be expanded out for all age-classes and years.\nThe values for CVatAge can also be entered as a vector of length nSim (provided nSim &gt; 2 ). The following are will result in the same output as the code above:\n\n# numeric length nSim\nset.seed(101)\nCVatAge &lt;- runif(nSim(ExampleOM), 0.1, 0.2)\n\nLength_CV_uniform_1 &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_CV_uniform_1 |&gt;\n  CVatAge()\n\nThis approach can be also used to sample values from different distributions, for example:\n\n# Sample from log-normal distribution\nset.seed(101)\nCVatAge &lt;- trlnorm(nSim(ExampleOM), 0.15, 0.2)\n\nLength_CV_lognorm &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_CV_lognorm |&gt;\n  CVatAge()\n\n\n15.2.1.2 Age-Specific Values\nAge-specific values can be generated by specifying CVatAge as an array with dimensions nSim and nAge :\n\nset.seed(101)\nCVatAge &lt;- array(\n  runif(\n    nSim(ExampleOM) *\n      nAge(ExampleStock),\n    0.1, 0.2\n  ),\n  dim = c(\n    nSim(ExampleOM),\n    nAge(ExampleStock)\n  )\n)\n\nLength_CV_uniform_Age &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_CV_uniform_Age |&gt;\n  CVatAge() |&gt;\n  dimnames()\n\n$Sim\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n$Age\n [1] \"0\"  \"1\"  \"2\"  \"3\"  \"4\"  \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" \"11\" \"12\" \"13\" \"14\"\n[16] \"15\" \"16\" \"17\" \"18\" \"19\" \"20\"\n\n$Year\n[1] \"2006\"\n\n\n\n15.2.1.3 Time- and Age-Specific Values\nThe same approach can be used to generate values that vary of both age and time:\n\nset.seed(101)\nCVatAge &lt;- array(\n  runif(\n    nSim(ExampleOM) *\n      nAge(ExampleStock) *\n      length(Years(ExampleOM)),\n    0.1, 0.2\n  ),\n  dim = c(\n    nSim(ExampleOM),\n    nAge(ExampleStock),\n    length(Years(ExampleOM))\n  )\n)\n\nLength_CV_uniform_Age_Time &lt;- Length(CVatAge = CVatAge) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_CV_uniform_Age_Time |&gt;\n  CVatAge() |&gt;\n  dimnames()\n\n$Sim\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n$Age\n [1] \"0\"  \"1\"  \"2\"  \"3\"  \"4\"  \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" \"11\" \"12\" \"13\" \"14\"\n[16] \"15\" \"16\" \"17\" \"18\" \"19\" \"20\"\n\n$Year\n  [1] \"2006\" \"2007\" \"2008\" \"2009\" \"2010\" \"2011\" \"2012\" \"2013\" \"2014\" \"2015\"\n [11] \"2016\" \"2017\" \"2018\" \"2019\" \"2020\" \"2021\" \"2022\" \"2023\" \"2024\" \"2025\"\n [21] \"2026\" \"2027\" \"2028\" \"2029\" \"2030\" \"2031\" \"2032\" \"2033\" \"2034\" \"2035\"\n [31] \"2036\" \"2037\" \"2038\" \"2039\" \"2040\" \"2041\" \"2042\" \"2043\" \"2044\" \"2045\"\n [41] \"2046\" \"2047\" \"2048\" \"2049\" \"2050\" \"2051\" \"2052\" \"2053\" \"2054\" \"2055\"\n [51] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n [61] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n [71] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n [81] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n [91] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n[101] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n[111] NA     NA     NA     NA     NA     NA     NA     NA     NA     NA    \n\n\n\n15.2.2 Populating MeanAtAge\n\nThe previous section described the different methods to populate CVatAge. Additional methods are used to populate MeanAtAge.\nThe methods described in this section are used to populate MeanAtAge for the Length object. The same process is used for all objects that contain MeanAtAge information (e.g., ?Weight, ?Maturity, ?Selectivitity, etc).\n\n15.2.2.1 Using Pars and Model\n\nThe first two arguments to the Length() function are Pars and Model (Figure 4.1).\nThese values are used to generate the MeanAtAge schedule from a growth model and corresponding parameter values.\nAlternatively, as described in the next section, MeanAtAge can be populated directly in a similar manner as described above for CVatAge.\nPars is a named list, with the names of the parameters for (in this case) the growth model specified in Model.\nopenMSE includes built-in models for all objects that contain MeanAtAge information. Currently there is one built-in length-at-age model, the von Bertalanffy growth function (see also ?vonBert:\n\\[\nL_a = L_\\infty(1-\\exp(-K(a-t_0))\n\\tag{15.1}\\]\nIn general, a list of built-in models for a specific object class can be printed to the console with [CLASS]Models(). For example LengthModels() prints the built-in models corresponding to Length objects (Figure 15.1).\n\n\n\n\n\nFigure 15.1: Output printed in the console by LengthModels()\n\n\nIf the names in Pars corresponds with a built-in model, Model will be set automatically and does not need to be defined.\nAlternatively, Model can be a R function that takes an Ages object as the first argument followed by the additional parameters that describe the mean length-at-age relationship.\nThe output from LengthModels() shows that the vonBert function has three parameters: Linf, K, t0 (Figure 15.1). Values for these parameters must be entered in Pars in order to use this growth function.\nThe structure for the values contained in Pars is similar to that described for CVatLength above, where the values can be constant over all simulations and years, or vary by simulation and/or year.\n\n15.2.2.1.1 Constant Values over Simulations and Years\n\nLength_Constant &lt;- Length(Pars = list(\n  Linf = 121,\n  K = 0.16,\n  t0 = -1.86\n)) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_Constant |&gt; Pars()\nLength_Constant |&gt; MeanAtAge()\n\n\n15.2.2.1.2 Linf varies over Simulations, all Pars Constant over Years\n\n# Uniform distribution for Linf, constant for others\nLength_Sim &lt;- Length(Pars = list(\n  Linf = c(121, 135),\n  K = 0.16,\n  t0 = -1.86\n)) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_Sim |&gt; Pars()\nLength_Sim |&gt; MeanAtAge()\n\n\n15.2.2.1.3 Time-Varying Parameters\nSpecifying time-varying parameters is a little more involved.\n\nset.seed(101)\n# Historical Years\nYears(ExampleStock, \"H\")\n\n [1] 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020\n[16] 2021 2022 2023 2024 2025\n\n# Stochastic Linf values for all simulations for 2006 - 2018\nLinf_06_18 &lt;- runif(nSim(ExampleOM), 121, 135)\n\n# Linf doubles from 2019 on\nLinf_19_on &lt;- Linf_06_18 * 2\n\n# Create an array with named dimensions:\n# Dimensions must be named `Sim` and `Year`\nLinf &lt;- array(c(Linf_06_18, Linf_19_on),\n  dim = c(nSim(ExampleOM), 2),\n  dimnames = list(\n    Sim = 1:nSim(ExampleOM),\n    Year = c(2006, 2019)\n  )\n)\n\nLength_Sim_Year &lt;- Length(Pars = list(\n  Linf = Linf,\n  K = 0.16,\n  t0 = -1.86\n)) |&gt;\n  Populate(\n    Ages = Ages(ExampleStock),\n    Years = Years(ExampleStock),\n    nSim = nSim(ExampleOM)\n  )\n\nLength_Sim_Year |&gt; Pars()\n\n$Linf\n   Year\nSim     2006     2019\n  1 126.2108 252.4216\n  2 121.6135 243.2271\n  3 130.9356 261.8712\n  4 130.2077 260.4153\n  5 124.4980 248.9960\n\n$K\n   Year\nSim 2006\n  1 0.16\n\n$t0\n   Year\nSim  2006\n  1 -1.86\n\nLength_Sim_Year |&gt;\n  MeanAtAge() |&gt;\n  MSEtool:::ArraySubsetAge(1:4)\n\n, , Year = 2006\n\n   Age\nSim        1        2        3        4\n  1 46.34453 58.15325 68.21598 76.79087\n  2 44.65643 56.03502 65.73121 73.99376\n  3 48.07947 60.33026 70.76970 79.66560\n  4 47.81218 59.99487 70.37627 79.22271\n  5 45.71559 57.36406 67.29022 75.74875\n\n, , Year = 2019\n\n   Age\nSim        1        2        3        4\n  1 92.68906 116.3065 136.4320 153.5817\n  2 89.31286 112.0700 131.4624 147.9875\n  3 96.15894 120.6605 141.5394 159.3312\n  4 95.62437 119.9897 140.7525 158.4454\n  5 91.43118 114.7281 134.5804 151.4975\n\n# TODO Subset function ...\n\n\n15.2.2.2 Populating MeanAtAge Directly\nHere the process to create and populate a Length object is broken into several steps. In practice this can be done in one or two lines of code.\nCreate a new Length object:\nThe mean length-at-age schedule is stored in a slot named MeanAtAge, which can be specified in two ways:\n\nA growth model and a list of the respective parameter values\nDirectly as an array specifying the mean length-at-age for each simulation and year.\n\n15.2.2.3 Model and Parameters\nThe Model and Pars slots are used to generate the mean length-at-age.\nModel specifies the growth function, and Pars is a named list with the parameter values.\n\nModel can either be a character string specifying the name of the growth model corresponding with the named parameters in Pars, or",
    "crumbs": [
      "More Details on Object Classes",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>The `Length` Object</span>"
    ]
  },
  {
    "objectID": "length_object.html#create-length-object-to-simplestock",
    "href": "length_object.html#create-length-object-to-simplestock",
    "title": "\n15  The Length Object\n",
    "section": "\n15.3 Create Length Object to SimpleStock\n",
    "text": "15.3 Create Length Object to SimpleStock\n\nThe above sections described various ways to populate a Length object.\nHere a Length object is created with stochastic values for the growth parameters (Pars) and CVatLength that vary over simulations, and the object is added to the SimpleStock object:\n\nLength(ExampleStock) &lt;- Length(\n  Pars = list(\n    Linf = c(121, 135),\n    K = c(0.16, 0.22),\n    t0 = c(-1.86, -1.41)\n  ),\n  CVatAge = c(0.1, 0.15)\n)",
    "crumbs": [
      "More Details on Object Classes",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>The `Length` Object</span>"
    ]
  },
  {
    "objectID": "length_object.html#weight",
    "href": "length_object.html#weight",
    "title": "\n15  The Length Object\n",
    "section": "\n15.4 Weight",
    "text": "15.4 Weight",
    "crumbs": [
      "More Details on Object Classes",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>The `Length` Object</span>"
    ]
  }
]